"use strict";

var openItem = function openItem(item) {
  var container = item.closest('.team__item');
  var contentBlock = container.find('.team__content');
  var textBlock = contentBlock.find('.team__content-block');
  var reqHeight = textBlock.height();
  container.addClass('active');
  contentBlock.height(reqHeight);
};
var closeEveryItem = function closeEveryItem(container) {
  var items = container.find('.team__content');
  var itemContianer = container.find('.team__item');
  itemContianer.removeClass('active');
  items.height(0);
};
$('.team__name').click(function (e) {
  var $this = $(e.currentTarget);
  var container = $this.closest('.team');
  var elemContainer = $this.closest('.team__item');
  if (elemContainer.hasClass('active')) {
    closeEveryItem(container);
  } else {
    closeEveryItem(container);
    openItem($this);
  }
});
var mesureWidth = function mesureWidth(item) {
  var reqItemWidth = 0;
  var screenWidth = $(window).width();
  var container = item.closest('.colors-menu');
  var buttonsBlocks = container.find('.colors-menu__button');
  var titlesWidth = buttonsBlocks.width() * buttonsBlocks.length;
  var textContainer = item.find('.colors-menu__container');
  var paddingLeft = parseInt(textContainer.css('padding-left'));
  var paddingRight = parseInt(textContainer.css('padding-right'));
  var isMobile = window.matchMedia('(max-width: 768px)').matches;
  if (isMobile) {
    reqItemWidth = screenWidth - titlesWidth;
  } else {
    reqItemWidth = 500;
  }
  return {
    container: reqItemWidth,
    textContainer: reqItemWidth - paddingLeft - paddingRight
  };
};
var closeEveryItemInContainer = function closeEveryItemInContainer(container) {
  var item = container.find('.colors-menu__item');
  var content = container.find('.colors-menu__content');
  item.removeClass('active-colors');
  content.width(0);
};
var openItemColors = function openItemColors(item) {
  var hiddenContent = item.find('.colors-menu__content');
  var reqWidth = mesureWidth(item);
  var textBlock = item.find('.colors-menu__container');
  item.addClass('active-colors');
  hiddenContent.width(reqWidth.container);
  textBlock.width(reqWidth.textContainer);
};
$('.colors-menu__button').on('click', function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var item = $this.closest('.colors-menu__item');
  var itemOpened = item.hasClass('active-colors');
  var container = $this.closest('.colors-menu');
  if (itemOpened) {
    closeEveryItemInContainer(container);
  } else {
    closeEveryItemInContainer(container);
    openItemColors(item);
  }
});
var gearOne = document.querySelector('#gear__button-one');
var gearTwo = document.querySelector('#gear__button-two');
var gearRotationOne = document.querySelector('#gear-image-one');
var gearRotationTwo = document.querySelector('#gear-image-two');
var gearDropdownOne = document.querySelector('#gear__dropdown-one');
var gearDropdownTwo = document.querySelector('#gear__dropdown-two');
function clickGear() {
  gearRotationOne.classList.toggle('gear-image--rotation');
  gearRotationTwo.classList.toggle('gear-image--rotation');
  gearDropdownOne.classList.toggle('gear__dropdown--active');
  gearDropdownTwo.classList.toggle('gear__dropdown--active');
}
gearOne.addEventListener('click', clickGear);
gearTwo.addEventListener('click', clickGear);
var hamburger = document.querySelector('#hamburger');
var overlay = document.querySelector('#overlay');
var body = document.querySelector('body');
var links = document.querySelectorAll('.overlay-menu__link');
links.forEach(function (e) {
  e.addEventListener('click', activeMenu);
});
function activeMenu() {
  hamburger.classList.toggle('hamburger--active');
  overlay.classList.toggle('overlay--active');
  body.classList.toggle('body--active-menu');
}
hamburger.addEventListener('click', activeMenu);
var myMap;
var init = function init() {
  myMap = new ymaps.Map("map", {
    center: [55.755461, 37.619228],
    zoom: 14,
    controls: []
  });
  var coords = [[55.758403, 37.583561], [55.756452, 37.620574], [55.750201, 37.603602], [55.743937, 37.581041]];
  var myCollection = new ymaps.GeoObjectCollection({}, {
    draggable: false,
    iconLayout: 'default#image',
    iconImageHref: 'IMG/marker.svg',
    iconImageSize: [30, 42],
    iconImageOffset: [-3, -42]
  });
  coords.forEach(function (coord) {
    myCollection.add(new ymaps.Placemark(coord));
  });
  myMap.geoObjects.add(myCollection);
  myMap.behaviors.disable('scrollZoom');
};
ymaps.ready(init);
var validateFields = function validateFields(form, fieldsArray) {
  fieldsArray.forEach(function (fieled) {
    fieled.removeClass("input-error");
    if (fieled.val().trim() == "") {
      fieled.addClass("input-error");
    }
  });
  var errorFields = form.find(".input-error");
  return errorFields.length == 0;
};
$('.form').submit(function (e) {
  e.preventDefault();
  var form = $(e.currentTarget);
  var name = form.find("[name='name']");
  var phone = form.find("[name='phone']");
  var comment = form.find("[name='comment']");
  var to = form.find("[name='to']");
  var modal = $("#modal");
  var content = modal.find('.modal__content');
  var isValid = validateFields(form, [name, phone, comment, to]);
  if (isValid) {
    $.ajax({
      url: "https://webdev-api.loftschool.com/sendmail",
      method: "POST",
      data: {
        name: name.val(),
        phone: phone.val(),
        comment: comment.val(),
        to: to.val()
      },
      success: function success(data) {
        content.text(data.message);
        $('.form')[0].reset();
        $.fancybox.open({
          src: "#modal",
          type: "inline"
        });
      },
      error: function error(data) {
        if (data) {
          content.text("Ошибка сервера");
          $.fancybox.open({
            src: "#modal",
            type: "inline"
          });
        }
      }
    });
  }
});
$(".app-submit-button").click(function (e) {
  e.preventDefault();
  $.fancybox.close();
});
var sections = $('section');
var display = $('.maincontent');
var inScroll = false;
sections.first().addClass('this-section');
var perfomTransition = function perfomTransition(sectionEq) {
  if (inScroll == false) {
    inScroll = true;
    var position = sectionEq * -100;
    var currentSection = sections.eq(sectionEq);
    var menuTheme = currentSection.attr('data-theme');
    var sideMenu = $('.fixed-menu');
    if (menuTheme == 'white') {
      sideMenu.addClass('fixed-menu--white');
    } else {
      sideMenu.removeClass('fixed-menu--white');
    }
    display.css({
      transform: "translateY(".concat(position, "%)")
    });
    sections.eq(sectionEq).addClass('this-section').siblings().removeClass('this-section');
    setTimeout(function () {
      inScroll = false;
      sideMenu.find('.fixed-menu__item').eq(sectionEq).addClass('fixed-menu__item--active').siblings().removeClass('fixed-menu__item--active');
    }, 1300);
  }
};
var scrollViewport = function scrollViewport(direction) {
  var activeSection = sections.filter('.this-section');
  var nextSection = activeSection.next();
  var prevSection = activeSection.prev();
  if (direction == 'next' && nextSection.length) {
    perfomTransition(nextSection.index());
  }
  if (direction == 'prev' && prevSection.length) {
    perfomTransition(prevSection.index());
  }
};
$(window).on('wheel', function (e) {
  var deltaY = e.originalEvent.deltaY;
  if (deltaY > 0) {
    scrollViewport('next');
  }
  if (deltaY < 0) {
    scrollViewport('prev');
  }
});
$(window).on('keydown', function (e) {
  var tagName = e.target.tagName.toLowerCase();
  if (tagName != 'input' && tagName != 'textarea') {
    switch (e.keyCode) {
      case 38:
        scrollViewport('prev');
        break;
      case 40:
        scrollViewport('next');
        break;
    }
  }
});
$('[data-scroll-to').click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr('data-scroll-to');
  var reqSection = $("[data-section=".concat(target, "]"));
  perfomTransition(reqSection.index());
});
$("body").swipe({
  swipe: function swipe(event, direction) {
    alert(direction);
  }
});
var player;
var playerContainer = $('.player');
var muteControler = $('.player__sound');
var eventsinit = function eventsinit() {
  $('.player__duration-play, .player__duration-pause').click(function (e) {
    e.preventDefault();
    if (playerContainer.hasClass('player--paused')) {
      player.pauseVideo();
    } else {
      player.playVideo();
    }
  });
  $('.player__sound-off, .player__sound-on').click(function (e) {
    e.preventDefault();
    if (muteControler.hasClass('player__sound--no-mute')) {
      muteControler.removeClass('player__sound--no-mute');
      player.mute();
    } else {
      muteControler.addClass('player__sound--no-mute');
      player.unMute();
    }
  });
  $('.player__playback').click(function (e) {
    var bar = $(e.currentTarget);
    var clickedPosition = e.originalEvent.layerX;
    var newButtonPositionPercent = clickedPosition / bar.width() * 100;
    var newPlaybackPositionSec = player.getDuration() / 100 * newButtonPositionPercent;
    $('.player__button-playback').css({
      left: "".concat(newButtonPositionPercent, "%")
    });
    player.seekTo(newPlaybackPositionSec);
  });
  $('.player__splash, .player__play-image').click(function (e) {
    player.playVideo();
  });
  $('.player__valume').click(function (e) {
    var valume = $(e.currentTarget);
    var clickedPositionValume = e.originalEvent.layerX;
    var buttonPositionValume = clickedPositionValume / valume.width() * 100;
    $('.player__button-valume').css({
      left: "".concat(buttonPositionValume, "%")
    });
    player.setVolume(buttonPositionValume);
    console.log(buttonPositionValume);
  });
};
var onPlayerReady = function onPlayerReady() {
  var interval;
  var duratinSec = player.getDuration();
  if (typeof interval != 'undefined') {
    clearInterval(interval);
  }
  interval = setInterval(function () {
    var completedSec = player.getCurrentTime();
    var completedPercent = completedSec / duratinSec * 100;
    $('.player__button-playback').css({
      left: "".concat(completedPercent, "%")
    });
  }, 1000);
};
var onPlayerStateChange = function onPlayerStateChange(event) {
  switch (event.data) {
    case 1:
      playerContainer.addClass('player--active');
      playerContainer.addClass('player--paused');
      break;
    case 2:
      playerContainer.removeClass('player--active');
      playerContainer.removeClass('player--paused');
      break;
  }
};
function onYouTubeIframeAPIReady() {
  player = new YT.Player('youtube-player', {
    height: '390',
    width: '662',
    videoId: 'sDh_kFP-ppk',
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    },
    playerVars: {
      controls: 0,
      disablekb: 0,
      showinfo: 0,
      rel: 0,
      autoplay: 0,
      modestbranding: 0
    }
  });
}
eventsinit();
var findBlockByAlias = function findBlockByAlias(alias) {
  return $('.reviews__item').filter(function (ndx, item) {
    return $(item).attr('data-linked') == alias;
  });
};
$('.interactive-avatar__link').click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr('data-open');
  var itemToShow = findBlockByAlias(target);
  var curItem = $this.closest('.reviews__swither-item');
  itemToShow.addClass('reviews__item--active').siblings().removeClass('reviews__item--active');
  curItem.addClass('interactive-avatar--active').siblings().removeClass('interactive-avatar--active');
});
var slides = document.querySelector('.slider__slides');
var arrow = document.querySelector('.slider__buttons');
var currentNdx = 0;
var slider = function slider(event) {
  var target = event.target;
  if (target.classList.contains('slider__button')) {
    var targetValue = target.dataset.button;
    if (targetValue === 'right') {
      if (currentNdx < slides.children.length - 1) {
        currentNdx += 1;
        doTransition(currentNdx);
      } else return;
    }
    if (targetValue === 'left') {
      if (currentNdx > 0) {
        currentNdx -= 1;
        doTransition(currentNdx);
      } else return;
    }
  }
};
function doTransition(index) {
  slides.style.transform = "translateX(-".concat(index * 100, "%)");
}
arrow.addEventListener('click', slider);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGVvbi5qcyIsImNvbG9ycy1tZW51LmpzIiwiZ2Vhci5qcyIsImhhbWJ1cmdlci5qcyIsIm1hcC5qcyIsIm1vZGFsLmpzIiwib3BzLmpzIiwicGxheWVyLmpzIiwicmV2aWV3cy5qcyIsInNsaWRlci5qcyJdLCJuYW1lcyI6WyJvcGVuSXRlbSIsIml0ZW0iLCJjb250YWluZXIiLCJjbG9zZXN0IiwiY29udGVudEJsb2NrIiwiZmluZCIsInRleHRCbG9jayIsInJlcUhlaWdodCIsImhlaWdodCIsImFkZENsYXNzIiwiY2xvc2VFdmVyeUl0ZW0iLCJpdGVtcyIsIml0ZW1Db250aWFuZXIiLCJyZW1vdmVDbGFzcyIsIiQiLCJjbGljayIsImUiLCIkdGhpcyIsImN1cnJlbnRUYXJnZXQiLCJlbGVtQ29udGFpbmVyIiwiaGFzQ2xhc3MiLCJtZXN1cmVXaWR0aCIsInJlcUl0ZW1XaWR0aCIsInNjcmVlbldpZHRoIiwid2luZG93Iiwid2lkdGgiLCJidXR0b25zQmxvY2tzIiwidGl0bGVzV2lkdGgiLCJsZW5ndGgiLCJ0ZXh0Q29udGFpbmVyIiwicGFkZGluZ0xlZnQiLCJwYXJzZUludCIsImNzcyIsInBhZGRpbmdSaWdodCIsImlzTW9iaWxlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjbG9zZUV2ZXJ5SXRlbUluQ29udGFpbmVyIiwiY29udGVudCIsIm9wZW5JdGVtQ29sb3JzIiwiaGlkZGVuQ29udGVudCIsInJlcVdpZHRoIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsIml0ZW1PcGVuZWQiLCJnZWFyT25lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2VhclR3byIsImdlYXJSb3RhdGlvbk9uZSIsImdlYXJSb3RhdGlvblR3byIsImdlYXJEcm9wZG93bk9uZSIsImdlYXJEcm9wZG93blR3byIsImNsaWNrR2VhciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW1idXJnZXIiLCJvdmVybGF5IiwiYm9keSIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhY3RpdmVNZW51IiwibXlNYXAiLCJpbml0IiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJjb29yZHMiLCJteUNvbGxlY3Rpb24iLCJHZW9PYmplY3RDb2xsZWN0aW9uIiwiZHJhZ2dhYmxlIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiY29vcmQiLCJhZGQiLCJQbGFjZW1hcmsiLCJnZW9PYmplY3RzIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsInJlYWR5IiwidmFsaWRhdGVGaWVsZHMiLCJmb3JtIiwiZmllbGRzQXJyYXkiLCJmaWVsZWQiLCJ2YWwiLCJ0cmltIiwiZXJyb3JGaWVsZHMiLCJzdWJtaXQiLCJuYW1lIiwicGhvbmUiLCJjb21tZW50IiwidG8iLCJtb2RhbCIsImlzVmFsaWQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsInN1Y2Nlc3MiLCJ0ZXh0IiwibWVzc2FnZSIsInJlc2V0IiwiZmFuY3lib3giLCJvcGVuIiwic3JjIiwidHlwZSIsImVycm9yIiwiY2xvc2UiLCJzZWN0aW9ucyIsImRpc3BsYXkiLCJpblNjcm9sbCIsImZpcnN0IiwicGVyZm9tVHJhbnNpdGlvbiIsInNlY3Rpb25FcSIsInBvc2l0aW9uIiwiY3VycmVudFNlY3Rpb24iLCJlcSIsIm1lbnVUaGVtZSIsImF0dHIiLCJzaWRlTWVudSIsInRyYW5zZm9ybSIsImNvbmNhdCIsInNpYmxpbmdzIiwic2V0VGltZW91dCIsInNjcm9sbFZpZXdwb3J0IiwiZGlyZWN0aW9uIiwiYWN0aXZlU2VjdGlvbiIsImZpbHRlciIsIm5leHRTZWN0aW9uIiwibmV4dCIsInByZXZTZWN0aW9uIiwicHJldiIsImluZGV4IiwiZGVsdGFZIiwib3JpZ2luYWxFdmVudCIsInRhZ05hbWUiLCJ0YXJnZXQiLCJ0b0xvd2VyQ2FzZSIsImtleUNvZGUiLCJyZXFTZWN0aW9uIiwic3dpcGUiLCJldmVudCIsImFsZXJ0IiwicGxheWVyIiwicGxheWVyQ29udGFpbmVyIiwibXV0ZUNvbnRyb2xlciIsImV2ZW50c2luaXQiLCJwYXVzZVZpZGVvIiwicGxheVZpZGVvIiwibXV0ZSIsInVuTXV0ZSIsImJhciIsImNsaWNrZWRQb3NpdGlvbiIsImxheWVyWCIsIm5ld0J1dHRvblBvc2l0aW9uUGVyY2VudCIsIm5ld1BsYXliYWNrUG9zaXRpb25TZWMiLCJnZXREdXJhdGlvbiIsImxlZnQiLCJzZWVrVG8iLCJ2YWx1bWUiLCJjbGlja2VkUG9zaXRpb25WYWx1bWUiLCJidXR0b25Qb3NpdGlvblZhbHVtZSIsInNldFZvbHVtZSIsImNvbnNvbGUiLCJsb2ciLCJvblBsYXllclJlYWR5IiwiaW50ZXJ2YWwiLCJkdXJhdGluU2VjIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiY29tcGxldGVkU2VjIiwiZ2V0Q3VycmVudFRpbWUiLCJjb21wbGV0ZWRQZXJjZW50Iiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsIm9uWW91VHViZUlmcmFtZUFQSVJlYWR5IiwiWVQiLCJQbGF5ZXIiLCJ2aWRlb0lkIiwiZXZlbnRzIiwicGxheWVyVmFycyIsImRpc2FibGVrYiIsInNob3dpbmZvIiwicmVsIiwiYXV0b3BsYXkiLCJtb2Rlc3RicmFuZGluZyIsImZpbmRCbG9ja0J5QWxpYXMiLCJhbGlhcyIsIm5keCIsIml0ZW1Ub1Nob3ciLCJjdXJJdGVtIiwic2xpZGVzIiwiYXJyb3ciLCJjdXJyZW50TmR4Iiwic2xpZGVyIiwiY29udGFpbnMiLCJ0YXJnZXRWYWx1ZSIsImRhdGFzZXQiLCJidXR0b24iLCJjaGlsZHJlbiIsImRvVHJhbnNpdGlvbiIsInN0eWxlIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQSxTQUFBQSxRQUFBQSxDQUFBQyxJQUFBLEVBQUE7RUFDQSxJQUFBQyxTQUFBLEdBQUFELElBQUEsQ0FBQUUsT0FBQSxDQUFBLGFBQUEsQ0FBQTtFQUNBLElBQUFDLFlBQUEsR0FB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LEtBQUEsR0FBQSxHQUFBLE9BQUE7QUFDQTtBQUVBMkQsS0FBQSxDQUFBN0ksZ0JBQUEsQ0FBQSxPQUFBLEVBQUErSSxNQUFBLENBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9wZW5JdGVtID0gaXRlbSA9PiB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gaXRlbS5jbG9zZXN0KCcudGVhbV9faXRlbScpO1xyXG4gIGNvbnN0IGNvbnRlbnRCbG9jayA9IGNvbnRhaW5lci5maW5kKCcudGVhbV9fY29udGVudCcpO1xyXG4gIGNvbnN0IHRleHRCbG9jayA9IGNvbnRlbnRCbG9jay5maW5kKCcudGVhbV9fY29udGVudC1ibG9jaycpO1xyXG4gIGNvbnN0IHJlcUhlaWdodCA9IHRleHRCbG9jay5oZWlnaHQoKTtcclxuXHJcbiAgY29udGFpbmVyLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gIGNvbnRlbnRCbG9jay5oZWlnaHQocmVxSGVpZ2h0KTtcclxufVxyXG5cclxuY29uc3QgY2xvc2VFdmVyeUl0ZW0gPSBjb250YWluZXIgPT4ge1xyXG4gIGNvbnN0IGl0ZW1zID0gY29udGFpbmVyLmZpbmQoJy50ZWFtX19jb250ZW50Jyk7XHJcbiAgY29uc3QgaXRlbUNvbnRpYW5lciA9IGNvbnRhaW5lci5maW5kKCcudGVhbV9faXRlbScpO1xyXG5cclxuICBpdGVtQ29udGlhbmVyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICBpdGVtcy5oZWlnaHQoMClcclxufVxyXG5cclxuJCgnLnRlYW1fX25hbWUnKS5jbGljayhlID0+IHtcclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCBjb250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcudGVhbScpO1xyXG4gIGNvbnN0IGVsZW1Db250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcudGVhbV9faXRlbScpO1xyXG4gIFxyXG4gIGlmIChlbGVtQ29udGFpbmVyLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgY2xvc2VFdmVyeUl0ZW0oY29udGFpbmVyKTtcclxuICB9IGVsc2Uge1xyXG4gIGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lcik7XHJcbiAgb3Blbkl0ZW0oJHRoaXMpO1xyXG4gIH1cclxufSkiLCJjb25zdCBtZXN1cmVXaWR0aCA9IChpdGVtKSA9PiB7XHJcblxyXG4gIGxldCByZXFJdGVtV2lkdGggPSAwO1xyXG5cclxuICBjb25zdCBzY3JlZW5XaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGl0ZW0uY2xvc2VzdCgnLmNvbG9ycy1tZW51Jyk7XHJcbiAgY29uc3QgYnV0dG9uc0Jsb2NrcyA9IGNvbnRhaW5lci5maW5kKCcuY29sb3JzLW1lbnVfX2J1dHRvbicpO1xyXG4gIGNvbnN0IHRpdGxlc1dpZHRoID0gYnV0dG9uc0Jsb2Nrcy53aWR0aCgpICogYnV0dG9uc0Jsb2Nrcy5sZW5ndGg7XHJcbiAgXHJcbiAgY29uc3QgdGV4dENvbnRhaW5lciA9IGl0ZW0uZmluZCgnLmNvbG9ycy1tZW51X19jb250YWluZXInKTtcclxuICBjb25zdCBwYWRkaW5nTGVmdCA9IHBhcnNlSW50KHRleHRDb250YWluZXIuY3NzKCdwYWRkaW5nLWxlZnQnKSk7XHJcbiAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gcGFyc2VJbnQodGV4dENvbnRhaW5lci5jc3MoJ3BhZGRpbmctcmlnaHQnKSk7XHJcblxyXG4gIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDc2OHB4KScpLm1hdGNoZXM7XHJcbiAgXHJcbiAgaWYgKGlzTW9iaWxlKSB7XHJcbiAgICByZXFJdGVtV2lkdGggPSBzY3JlZW5XaWR0aCAtIHRpdGxlc1dpZHRoO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXFJdGVtV2lkdGggPSA1MDA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY29udGFpbmVyOiByZXFJdGVtV2lkdGgsXHJcbiAgICB0ZXh0Q29udGFpbmVyOiByZXFJdGVtV2lkdGggLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodFxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIgPSAoY29udGFpbmVyKSA9PiB7XHJcbiAgY29uc3QgaXRlbSA9IGNvbnRhaW5lci5maW5kKCcuY29sb3JzLW1lbnVfX2l0ZW0nKTtcclxuICBjb25zdCBjb250ZW50ID0gY29udGFpbmVyLmZpbmQoJy5jb2xvcnMtbWVudV9fY29udGVudCcpO1xyXG5cclxuICBpdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUtY29sb3JzJyk7XHJcbiAgY29udGVudC53aWR0aCgwKTtcclxufTtcclxuXHJcbmNvbnN0IG9wZW5JdGVtQ29sb3JzID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBoaWRkZW5Db250ZW50ID0gaXRlbS5maW5kKCcuY29sb3JzLW1lbnVfX2NvbnRlbnQnKTtcclxuICBjb25zdCByZXFXaWR0aCA9IG1lc3VyZVdpZHRoKGl0ZW0pO1xyXG4gIGNvbnN0IHRleHRCbG9jayA9IGl0ZW0uZmluZCgnLmNvbG9ycy1tZW51X19jb250YWluZXInKTtcclxuXHJcbiAgaXRlbS5hZGRDbGFzcygnYWN0aXZlLWNvbG9ycycpO1xyXG4gIGhpZGRlbkNvbnRlbnQud2lkdGgocmVxV2lkdGguY29udGFpbmVyKTtcclxuICB0ZXh0QmxvY2sud2lkdGgocmVxV2lkdGgudGV4dENvbnRhaW5lcik7XHJcbn07XHJcblxyXG4kKCcuY29sb3JzLW1lbnVfX2J1dHRvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCBpdGVtID0gJHRoaXMuY2xvc2VzdCgnLmNvbG9ycy1tZW51X19pdGVtJyk7XHJcbiAgY29uc3QgaXRlbU9wZW5lZCA9IGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZS1jb2xvcnMnKTtcclxuICBjb25zdCBjb250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcuY29sb3JzLW1lbnUnKTtcclxuXHJcbiAgaWYgKGl0ZW1PcGVuZWQpIHtcclxuICAgIGNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIoY29udGFpbmVyKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjbG9zZUV2ZXJ5SXRlbUluQ29udGFpbmVyKGNvbnRhaW5lcik7XHJcbiAgICBvcGVuSXRlbUNvbG9ycyhpdGVtKTtcclxuICB9XHJcbn0pO1xyXG4iLCJsZXQgZ2Vhck9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZWFyX19idXR0b24tb25lJyk7XHJcbmxldCBnZWFyVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlYXJfX2J1dHRvbi10d28nKTtcclxubGV0IGdlYXJSb3RhdGlvbk9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZWFyLWltYWdlLW9uZScpO1xyXG5sZXQgZ2VhclJvdGF0aW9uVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlYXItaW1hZ2UtdHdvJyk7XHJcbmxldCBnZWFyRHJvcGRvd25PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2Vhcl9fZHJvcGRvd24tb25lJyk7XHJcbmxldCBnZWFyRHJvcGRvd25Ud28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2Vhcl9fZHJvcGRvd24tdHdvJyk7XHJcblxyXG5mdW5jdGlvbiBjbGlja0dlYXIoKSB7XHJcbiAgZ2VhclJvdGF0aW9uT25lLmNsYXNzTGlzdC50b2dnbGUoJ2dlYXItaW1hZ2UtLXJvdGF0aW9uJyk7XHJcbiAgZ2VhclJvdGF0aW9uVHdvLmNsYXNzTGlzdC50b2dnbGUoJ2dlYXItaW1hZ2UtLXJvdGF0aW9uJyk7XHJcbiAgZ2VhckRyb3Bkb3duT25lLmNsYXNzTGlzdC50b2dnbGUoJ2dlYXJfX2Ryb3Bkb3duLS1hY3RpdmUnKTtcclxuICBnZWFyRHJvcGRvd25Ud28uY2xhc3NMaXN0LnRvZ2dsZSgnZ2Vhcl9fZHJvcGRvd24tLWFjdGl2ZScpO1xyXG59XHJcblxyXG5nZWFyT25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tHZWFyKTtcclxuZ2VhclR3by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrR2Vhcik7XHJcblxyXG4iLCJsZXQgaGFtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbWJ1cmdlcicpO1xyXG5sZXQgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdmVybGF5Jyk7XHJcbmxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5cclxuXHJcbmxldCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vdmVybGF5LW1lbnVfX2xpbmsnKVxyXG5cclxubGlua3MuZm9yRWFjaChmdW5jdGlvbihlKSB7XHJcbiAgZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFjdGl2ZU1lbnUpO1xyXG59KVxyXG5cclxuZnVuY3Rpb24gYWN0aXZlTWVudSgpIHtcclxuICBoYW1idXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGFtYnVyZ2VyLS1hY3RpdmUnKTtcclxuICBvdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoJ292ZXJsYXktLWFjdGl2ZScpO1xyXG4gIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnYm9keS0tYWN0aXZlLW1lbnUnKTtcclxufVxyXG5cclxuaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWN0aXZlTWVudSk7XHJcbiIsImxldCBteU1hcDtcclxuIFxyXG5jb25zdCBpbml0ID0gKCkgPT4ge1xyXG4gbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcclxuICAgY2VudGVyOiBbNTUuNzU1NDYxLCAzNy42MTkyMjhdLFxyXG4gICB6b29tOiAxNCxcclxuICAgY29udHJvbHM6IFtdXHJcbiB9KTtcclxuXHJcbiBjb25zdCBjb29yZHMgPSBbXHJcbiAgWzU1Ljc1ODQwMywgMzcuNTgzNTYxXSxcclxuICBbNTUuNzU2NDUyLCAzNy42MjA1NzRdLFxyXG4gIFs1NS43NTAyMDEsIDM3LjYwMzYwMl0sXHJcbiAgWzU1Ljc0MzkzNywgMzcuNTgxMDQxXVxyXG4gXTtcclxuXHJcbiBjb25zdCBteUNvbGxlY3Rpb24gPSBuZXcgeW1hcHMuR2VvT2JqZWN0Q29sbGVjdGlvbih7fSwge1xyXG4gIGRyYWdnYWJsZTogZmFsc2UsIFxyXG4gIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICBpY29uSW1hZ2VIcmVmOiAnSU1HL21hcmtlci5zdmcnLFxyXG4gIGljb25JbWFnZVNpemU6IFszMCwgNDJdLFxyXG4gIGljb25JbWFnZU9mZnNldDogWy0zLCAtNDJdXHJcbiB9KTtcclxuXHJcbiBjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XHJcbiAgbXlDb2xsZWN0aW9uLmFkZChuZXcgeW1hcHMuUGxhY2VtYXJrKGNvb3JkKSk7XHJcbiB9KTtcclxuXHJcbiBteU1hcC5nZW9PYmplY3RzLmFkZChteUNvbGxlY3Rpb24pO1xyXG5cclxuIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdzY3JvbGxab29tJyk7XHJcbn1cclxuIFxyXG55bWFwcy5yZWFkeShpbml0KTsiLCJjb25zdCB2YWxpZGF0ZUZpZWxkcyA9IChmb3JtLCBmaWVsZHNBcnJheSkgPT4ge1xyXG4gIGZpZWxkc0FycmF5LmZvckVhY2goZmllbGVkID0+IHtcclxuICAgIGZpZWxlZC5yZW1vdmVDbGFzcyhcImlucHV0LWVycm9yXCIpO1xyXG4gICAgaWYgKGZpZWxlZC52YWwoKS50cmltKCkgPT0gXCJcIikge1xyXG4gICAgICBmaWVsZWQuYWRkQ2xhc3MoXCJpbnB1dC1lcnJvclwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgZXJyb3JGaWVsZHMgPSBmb3JtLmZpbmQoXCIuaW5wdXQtZXJyb3JcIik7XHJcblxyXG4gIHJldHVybiBlcnJvckZpZWxkcy5sZW5ndGggPT0gMDtcclxufVxyXG5cclxuJCgnLmZvcm0nKS5zdWJtaXQoZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCBmb3JtID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IG5hbWUgPSBmb3JtLmZpbmQoXCJbbmFtZT0nbmFtZSddXCIpO1xyXG4gIGNvbnN0IHBob25lID0gZm9ybS5maW5kKFwiW25hbWU9J3Bob25lJ11cIik7XHJcbiAgY29uc3QgY29tbWVudCA9IGZvcm0uZmluZChcIltuYW1lPSdjb21tZW50J11cIik7XHJcbiAgY29uc3QgdG8gPSBmb3JtLmZpbmQoXCJbbmFtZT0ndG8nXVwiKTtcclxuXHJcbiAgY29uc3QgbW9kYWwgPSAkKFwiI21vZGFsXCIpO1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBtb2RhbC5maW5kKCcubW9kYWxfX2NvbnRlbnQnKTtcclxuXHJcbiAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlRmllbGRzKGZvcm0sIFtuYW1lLCBwaG9uZSwgY29tbWVudCwgdG9dKTtcclxuXHJcbiAgaWYgKGlzVmFsaWQpIHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogXCJodHRwczovL3dlYmRldi1hcGkubG9mdHNjaG9vbC5jb20vc2VuZG1haWxcIixcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIG5hbWU6IG5hbWUudmFsKCksXHJcbiAgICAgICAgcGhvbmU6IHBob25lLnZhbCgpLFxyXG4gICAgICAgIGNvbW1lbnQ6IGNvbW1lbnQudmFsKCksXHJcbiAgICAgICAgdG86IHRvLnZhbCgpLFxyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnRlbnQudGV4dChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICQoJy5mb3JtJylbMF0ucmVzZXQoKTtcclxuICAgICAgICAkLmZhbmN5Ym94Lm9wZW4oe1xyXG4gICAgICAgICAgc3JjOiBcIiNtb2RhbFwiLFxyXG4gICAgICAgICAgdHlwZTogXCJpbmxpbmVcIixcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnRlbnQudGV4dChcItCe0YjQuNCx0LrQsCDRgdC10YDQstC10YDQsFwiKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgJC5mYW5jeWJveC5vcGVuKHtcclxuICAgICAgICAgICAgc3JjOiBcIiNtb2RhbFwiLFxyXG4gICAgICAgICAgICB0eXBlOiBcImlubGluZVwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbiQoXCIuYXBwLXN1Ym1pdC1idXR0b25cIikuY2xpY2soKGUpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICQuZmFuY3lib3guY2xvc2UoKTtcclxufSk7IiwiY29uc3Qgc2VjdGlvbnMgPSAkKCdzZWN0aW9uJyk7XHJcbmNvbnN0IGRpc3BsYXkgPSAkKCcubWFpbmNvbnRlbnQnKTtcclxuXHJcbmxldCBpblNjcm9sbCA9IGZhbHNlO1xyXG5cclxuc2VjdGlvbnMuZmlyc3QoKS5hZGRDbGFzcygndGhpcy1zZWN0aW9uJyk7XHJcblxyXG5jb25zdCBwZXJmb21UcmFuc2l0aW9uID0gc2VjdGlvbkVxID0+IHtcclxuXHJcbiAgaWYgKGluU2Nyb2xsID09IGZhbHNlKSB7XHJcbiAgICBpblNjcm9sbCA9IHRydWU7XHJcbiAgICBjb25zdCBwb3NpdGlvbiA9IHNlY3Rpb25FcSAqIC0xMDA7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHNlY3Rpb25zLmVxKHNlY3Rpb25FcSk7XHJcbiAgICAgIGNvbnN0IG1lbnVUaGVtZSA9Y3VycmVudFNlY3Rpb24uYXR0cignZGF0YS10aGVtZScpO1xyXG4gICAgICBjb25zdCBzaWRlTWVudSA9ICQoJy5maXhlZC1tZW51Jyk7XHJcblxyXG4gICAgICBpZiAobWVudVRoZW1lID09ICd3aGl0ZScpIHtcclxuICAgICAgICBzaWRlTWVudS5hZGRDbGFzcygnZml4ZWQtbWVudS0td2hpdGUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaWRlTWVudS5yZW1vdmVDbGFzcygnZml4ZWQtbWVudS0td2hpdGUnKTtcclxuICAgICAgfVxyXG5cclxuICAgIGRpc3BsYXkuY3NzKHtcclxuICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3Bvc2l0aW9ufSUpYFxyXG4gICAgfSk7XHJcblxyXG4gICAgc2VjdGlvbnMuZXEoc2VjdGlvbkVxKS5hZGRDbGFzcygndGhpcy1zZWN0aW9uJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygndGhpcy1zZWN0aW9uJyk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGluU2Nyb2xsID0gZmFsc2U7XHJcblxyXG4gICAgICBzaWRlTWVudVxyXG4gICAgICAgIC5maW5kKCcuZml4ZWQtbWVudV9faXRlbScpXHJcbiAgICAgICAgLmVxKHNlY3Rpb25FcSlcclxuICAgICAgICAuYWRkQ2xhc3MoJ2ZpeGVkLW1lbnVfX2l0ZW0tLWFjdGl2ZScpXHJcbiAgICAgICAgLnNpYmxpbmdzKClcclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2ZpeGVkLW1lbnVfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgfSwgMTMwMCk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBzY3JvbGxWaWV3cG9ydCA9IGRpcmVjdGlvbiA9PiB7XHJcbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHNlY3Rpb25zLmZpbHRlcignLnRoaXMtc2VjdGlvbicpO1xyXG4gIGNvbnN0IG5leHRTZWN0aW9uID0gYWN0aXZlU2VjdGlvbi5uZXh0KCk7XHJcbiAgY29uc3QgcHJldlNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLnByZXYoKTtcclxuXHJcbiAgaWYgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgbmV4dFNlY3Rpb24ubGVuZ3RoKSB7XHJcbiAgICBwZXJmb21UcmFuc2l0aW9uKG5leHRTZWN0aW9uLmluZGV4KCkpXHJcbiAgfVxyXG5cclxuICBpZiAoZGlyZWN0aW9uID09ICdwcmV2JyAmJiBwcmV2U2VjdGlvbi5sZW5ndGgpIHtcclxuICAgIHBlcmZvbVRyYW5zaXRpb24ocHJldlNlY3Rpb24uaW5kZXgoKSlcclxuICB9XHJcbn07XHJcblxyXG4kKHdpbmRvdykub24oJ3doZWVsJywgZT0+IHtcclxuICBjb25zdCBkZWx0YVkgPSBlLm9yaWdpbmFsRXZlbnQuZGVsdGFZO1xyXG5cclxuICBpZiAoZGVsdGFZID4gMCkge1xyXG4gICAgIHNjcm9sbFZpZXdwb3J0KCduZXh0Jyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZGVsdGFZIDwgMCkge1xyXG4gICAgc2Nyb2xsVmlld3BvcnQoJ3ByZXYnKTtcclxuICB9XHJcbn0pO1xyXG5cclxuJCh3aW5kb3cpLm9uKCdrZXlkb3duJywgZSA9PiB7XHJcblxyXG4gIGNvbnN0IHRhZ05hbWUgPSBlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gIGlmKHRhZ05hbWUgIT0gJ2lucHV0JyAmJiB0YWdOYW1lICE9ICd0ZXh0YXJlYScpIHtcclxuICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgc2Nyb2xsVmlld3BvcnQoJ3ByZXYnKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgc2Nyb2xsVmlld3BvcnQoJ25leHQnKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuJCgnW2RhdGEtc2Nyb2xsLXRvJykuY2xpY2soZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKCdkYXRhLXNjcm9sbC10bycpO1xyXG4gIGNvbnN0IHJlcVNlY3Rpb24gPSAkKGBbZGF0YS1zZWN0aW9uPSR7dGFyZ2V0fV1gKTtcclxuXHJcbiAgcGVyZm9tVHJhbnNpdGlvbihyZXFTZWN0aW9uLmluZGV4KCkpO1xyXG59KTtcclxuXHJcbiQoXCJib2R5XCIpLnN3aXBlKCB7XHJcbiAgc3dpcGU6ZnVuY3Rpb24oZXZlbnQsIGRpcmVjdGlvbikge1xyXG4gICAgYWxlcnQoZGlyZWN0aW9uKTtcclxuICB9LFxyXG59KTtcclxuIiwibGV0IHBsYXllcjtcclxuY29uc3QgcGxheWVyQ29udGFpbmVyID0gJCgnLnBsYXllcicpO1xyXG5jb25zdCBtdXRlQ29udHJvbGVyID0gJCgnLnBsYXllcl9fc291bmQnKVxyXG5cclxubGV0IGV2ZW50c2luaXQgPSAoKSA9PiB7XHJcbiAgJCgnLnBsYXllcl9fZHVyYXRpb24tcGxheSwgLnBsYXllcl9fZHVyYXRpb24tcGF1c2UnKS5jbGljayhlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAocGxheWVyQ29udGFpbmVyLmhhc0NsYXNzKCdwbGF5ZXItLXBhdXNlZCcpKSB7XHJcbiAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoJy5wbGF5ZXJfX3NvdW5kLW9mZiwgLnBsYXllcl9fc291bmQtb24nKS5jbGljayhlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAobXV0ZUNvbnRyb2xlci5oYXNDbGFzcygncGxheWVyX19zb3VuZC0tbm8tbXV0ZScpKSB7XHJcbiAgICAgIG11dGVDb250cm9sZXIucmVtb3ZlQ2xhc3MoJ3BsYXllcl9fc291bmQtLW5vLW11dGUnKTtcclxuICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG11dGVDb250cm9sZXIuYWRkQ2xhc3MoJ3BsYXllcl9fc291bmQtLW5vLW11dGUnKTtcclxuICAgICAgcGxheWVyLnVuTXV0ZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcucGxheWVyX19wbGF5YmFjaycpLmNsaWNrKGUgPT4ge1xyXG4gICAgY29uc3QgYmFyID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgY29uc3QgY2xpY2tlZFBvc2l0aW9uID0gZS5vcmlnaW5hbEV2ZW50LmxheWVyWDtcclxuICAgIGNvbnN0IG5ld0J1dHRvblBvc2l0aW9uUGVyY2VudCA9IChjbGlja2VkUG9zaXRpb24gLyBiYXIud2lkdGgoKSkgKiAxMDA7XHJcbiAgICBjb25zdCBuZXdQbGF5YmFja1Bvc2l0aW9uU2VjID0gXHJcbiAgICAgIChwbGF5ZXIuZ2V0RHVyYXRpb24oKSAvIDEwMCkgKiBuZXdCdXR0b25Qb3NpdGlvblBlcmNlbnQ7XHJcblxyXG4gICAgJCgnLnBsYXllcl9fYnV0dG9uLXBsYXliYWNrJykuY3NzICh7XHJcbiAgICAgIGxlZnQ6IGAke25ld0J1dHRvblBvc2l0aW9uUGVyY2VudH0lYFxyXG4gICAgfSk7XHJcblxyXG4gICAgcGxheWVyLnNlZWtUbyhuZXdQbGF5YmFja1Bvc2l0aW9uU2VjKTtcclxuICB9KTtcclxuXHJcbiAgJCgnLnBsYXllcl9fc3BsYXNoLCAucGxheWVyX19wbGF5LWltYWdlJykuY2xpY2soZSA9PiB7XHJcbiAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5wbGF5ZXJfX3ZhbHVtZScpLmNsaWNrKGUgPT4ge1xyXG4gICAgY29uc3QgdmFsdW1lID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgY29uc3QgY2xpY2tlZFBvc2l0aW9uVmFsdW1lID0gZS5vcmlnaW5hbEV2ZW50LmxheWVyWDtcclxuICAgIGNvbnN0IGJ1dHRvblBvc2l0aW9uVmFsdW1lID0gKGNsaWNrZWRQb3NpdGlvblZhbHVtZSAvIHZhbHVtZS53aWR0aCgpKSAqIDEwMDtcclxuICAgICAgXHJcbiAgICAkKCcucGxheWVyX19idXR0b24tdmFsdW1lJykuY3NzICh7XHJcbiAgICAgIGxlZnQ6IGAke2J1dHRvblBvc2l0aW9uVmFsdW1lfSVgXHJcbiAgICB9KTtcclxuXHJcbiAgICBwbGF5ZXIuc2V0Vm9sdW1lKGJ1dHRvblBvc2l0aW9uVmFsdW1lKTtcclxuICAgIGNvbnNvbGUubG9nKGJ1dHRvblBvc2l0aW9uVmFsdW1lKVxyXG4gIH0pXHJcbn07XHJcblxyXG5jb25zdCBvblBsYXllclJlYWR5ID0gKCkgPT4ge1xyXG4gIGxldCBpbnRlcnZhbDtcclxuICBjb25zdCBkdXJhdGluU2VjID0gcGxheWVyLmdldER1cmF0aW9uKCk7XHJcblxyXG4gIGlmICh0eXBlb2YgaW50ZXJ2YWwgIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICBjb25zdCBjb21wbGV0ZWRTZWMgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgIGNvbnN0IGNvbXBsZXRlZFBlcmNlbnQgPSAoY29tcGxldGVkU2VjIC8gZHVyYXRpblNlYykgKiAxMDA7XHJcblxyXG4gICAgJCgnLnBsYXllcl9fYnV0dG9uLXBsYXliYWNrJykuY3NzKHtcclxuICAgICAgbGVmdDogYCR7Y29tcGxldGVkUGVyY2VudH0lYFxyXG4gICAgfSk7XHJcbiAgfSwgMTAwMCk7XHJcbn07XHJcblxyXG5jb25zdCBvblBsYXllclN0YXRlQ2hhbmdlID0gZXZlbnQgPT4ge1xyXG4gIHN3aXRjaCAoZXZlbnQuZGF0YSkge1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICBwbGF5ZXJDb250YWluZXIuYWRkQ2xhc3MoJ3BsYXllci0tYWN0aXZlJyk7XHJcbiAgICAgIHBsYXllckNvbnRhaW5lci5hZGRDbGFzcygncGxheWVyLS1wYXVzZWQnKTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcGxheWVyQ29udGFpbmVyLnJlbW92ZUNsYXNzKCdwbGF5ZXItLWFjdGl2ZScpO1xyXG4gICAgICAgIHBsYXllckNvbnRhaW5lci5yZW1vdmVDbGFzcygncGxheWVyLS1wYXVzZWQnKTtcclxuICAgICAgICBicmVhaztcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHtcclxuICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCd5b3V0dWJlLXBsYXllcicsIHtcclxuICAgIGhlaWdodDogJzM5MCcsXHJcbiAgICB3aWR0aDogJzY2MicsXHJcbiAgICB2aWRlb0lkOiAnc0RoX2tGUC1wcGsnLFxyXG4gICAgZXZlbnRzOiB7XHJcbiAgICAgICdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcclxuICAgICAgJ29uU3RhdGVDaGFuZ2UnOiBvblBsYXllclN0YXRlQ2hhbmdlXHJcbiAgICB9LFxyXG4gICAgcGxheWVyVmFyczoge1xyXG4gICAgICBjb250cm9sczogMCxcclxuICAgICAgZGlzYWJsZWtiOiAwLFxyXG4gICAgICBzaG93aW5mbzogMCxcclxuICAgICAgcmVsOiAwLFxyXG4gICAgICBhdXRvcGxheTogMCxcclxuICAgICAgbW9kZXN0YnJhbmRpbmc6IDBcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZXZlbnRzaW5pdCgpO1xyXG4iLCJjb25zdCBmaW5kQmxvY2tCeUFsaWFzID0gYWxpYXMgPT4ge1xyXG4gIHJldHVybiAkKCcucmV2aWV3c19faXRlbScpLmZpbHRlcigobmR4LCBpdGVtKSA9PiB7XHJcbiAgICByZXR1cm4gJChpdGVtKS5hdHRyKCdkYXRhLWxpbmtlZCcpID09IGFsaWFzO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuJCgnLmludGVyYWN0aXZlLWF2YXRhcl9fbGluaycpLmNsaWNrKGUgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuYXR0cignZGF0YS1vcGVuJyk7XHJcbiAgY29uc3QgaXRlbVRvU2hvdyA9IGZpbmRCbG9ja0J5QWxpYXModGFyZ2V0KTtcclxuICBjb25zdCBjdXJJdGVtID0gJHRoaXMuY2xvc2VzdCgnLnJldmlld3NfX3N3aXRoZXItaXRlbScpO1xyXG5cclxuICBpdGVtVG9TaG93LmFkZENsYXNzKCdyZXZpZXdzX19pdGVtLS1hY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdyZXZpZXdzX19pdGVtLS1hY3RpdmUnKTtcclxuICBjdXJJdGVtLmFkZENsYXNzKCdpbnRlcmFjdGl2ZS1hdmF0YXItLWFjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2ludGVyYWN0aXZlLWF2YXRhci0tYWN0aXZlJyk7XHJcbn0pOyIsImxldCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19zbGlkZXMnKTtcclxubGV0IGFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fYnV0dG9ucycpO1xyXG5sZXQgY3VycmVudE5keCA9IDA7XHJcblxyXG5jb25zdCBzbGlkZXIgPSAoZXZlbnQpID0+IHtcclxuICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyX19idXR0b24nKSkge1xyXG4gICAgbGV0IHRhcmdldFZhbHVlID0gdGFyZ2V0LmRhdGFzZXQuYnV0dG9uO1xyXG5cclxuICAgIGlmICh0YXJnZXRWYWx1ZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICBpZiAoY3VycmVudE5keCA8IHNsaWRlcy5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgY3VycmVudE5keCArPSAxO1xyXG4gICAgICAgIGRvVHJhbnNpdGlvbihjdXJyZW50TmR4KTtcclxuICAgICAgfSBlbHNlIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHRhcmdldFZhbHVlID09PSAnbGVmdCcpIHtcclxuICAgICAgaWYgKGN1cnJlbnROZHggPiAwKSB7XHJcbiAgICAgICAgY3VycmVudE5keCAtPSAxO1xyXG4gICAgICAgIGRvVHJhbnNpdGlvbihjdXJyZW50TmR4KTtcclxuICAgICAgfSBlbHNlIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBkb1RyYW5zaXRpb24oaW5kZXgpIHtcclxuICBzbGlkZXMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7aW5kZXggKiAxMDB9JSlgO1xyXG59XHJcblxyXG5hcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNsaWRlcik7XHJcbiJdfQ==
