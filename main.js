"use strict";

var openItem = function openItem(item) {
  var container = item.closest('.team__item');
  var contentBlock = container.find('.team__content');
  var textBlock = contentBlock.find('.team__content-block');
  var reqHeight = textBlock.height();
  container.addClass('active');
  contentBlock.height(reqHeight);
};
var closeEveryItem = function closeEveryItem(container) {
  var items = container.find('.team__content');
  var itemContianer = container.find('.team__item');
  itemContianer.removeClass('active');
  items.height(0);
};
$('.team__name').click(function (e) {
  var $this = $(e.currentTarget);
  var container = $this.closest('.team');
  var elemContainer = $this.closest('.team__item');
  if (elemContainer.hasClass('active')) {
    closeEveryItem(container);
  } else {
    closeEveryItem(container);
    openItem($this);
  }
});
var mesureWidth = function mesureWidth(item) {
  var reqItemWidth = 0;
  var screenWidth = $(window).width();
  var container = item.closest('.colors-menu');
  var buttonsBlocks = container.find('.colors-menu__button');
  var titlesWidth = buttonsBlocks.width() * buttonsBlocks.length;
  var textContainer = item.find('.colors-menu__container');
  var paddingLeft = parseInt(textContainer.css('padding-left'));
  var paddingRight = parseInt(textContainer.css('padding-right'));
  var isMobile = window.matchMedia('(max-width: 768px)').matches;
  if (isMobile) {
    reqItemWidth = screenWidth - titlesWidth;
  } else {
    reqItemWidth = 500;
  }
  return {
    container: reqItemWidth,
    textContainer: reqItemWidth - paddingLeft - paddingRight
  };
};
var closeEveryItemInContainer = function closeEveryItemInContainer(container) {
  var item = container.find('.colors-menu__item');
  var content = container.find('.colors-menu__content');
  item.removeClass('active-colors');
  content.width(0);
};
var openItemColors = function openItemColors(item) {
  var hiddenContent = item.find('.colors-menu__content');
  var reqWidth = mesureWidth(item);
  var textBlock = item.find('.colors-menu__container');
  item.addClass('active-colors');
  hiddenContent.width(reqWidth.container);
  textBlock.width(reqWidth.textContainer);
};
$('.colors-menu__button').on('click', function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var item = $this.closest('.colors-menu__item');
  var itemOpened = item.hasClass('active-colors');
  var container = $this.closest('.colors-menu');
  if (itemOpened) {
    closeEveryItemInContainer(container);
  } else {
    closeEveryItemInContainer(container);
    openItemColors(item);
  }
});
var gearOne = document.querySelector('#gear__button-one');
var gearTwo = document.querySelector('#gear__button-two');
var gearRotationOne = document.querySelector('#gear-image-one');
var gearRotationTwo = document.querySelector('#gear-image-two');
var gearDropdownOne = document.querySelector('#gear__dropdown-one');
var gearDropdownTwo = document.querySelector('#gear__dropdown-two');
function clickGear() {
  gearRotationOne.classList.toggle('gear-image--rotation');
  gearRotationTwo.classList.toggle('gear-image--rotation');
  gearDropdownOne.classList.toggle('gear__dropdown--active');
  gearDropdownTwo.classList.toggle('gear__dropdown--active');
}
gearOne.addEventListener('click', clickGear);
gearTwo.addEventListener('click', clickGear);
var hamburger = document.querySelector('#hamburger');
var overlay = document.querySelector('#overlay');
var body = document.querySelector('body');
var links = document.querySelectorAll('.overlay-menu__link');
links.forEach(function (e) {
  e.addEventListener('click', activeMenu);
});
function activeMenu() {
  hamburger.classList.toggle('hamburger--active');
  overlay.classList.toggle('overlay--active');
  body.classList.toggle('body--active-menu');
}
hamburger.addEventListener('click', activeMenu);
var myMap;
var init = function init() {
  myMap = new ymaps.Map("map", {
    center: [55.755461, 37.619228],
    zoom: 14,
    controls: []
  });
  var coords = [[55.758403, 37.583561], [55.756452, 37.620574], [55.750201, 37.603602], [55.743937, 37.581041]];
  var myCollection = new ymaps.GeoObjectCollection({}, {
    draggable: false,
    iconLayout: 'default#image',
    iconImageHref: 'IMG/marker.svg',
    iconImageSize: [30, 42],
    iconImageOffset: [-3, -42]
  });
  coords.forEach(function (coord) {
    myCollection.add(new ymaps.Placemark(coord));
  });
  myMap.geoObjects.add(myCollection);
  myMap.behaviors.disable('scrollZoom');
};
ymaps.ready(init);
var validateFields = function validateFields(form, fieldsArray) {
  fieldsArray.forEach(function (fieled) {
    fieled.removeClass("input-error");
    if (fieled.val().trim() == "") {
      fieled.addClass("input-error");
    }
  });
  var errorFields = form.find(".input-error");
  return errorFields.length == 0;
};
$('.form').submit(function (e) {
  e.preventDefault();
  var form = $(e.currentTarget);
  var name = form.find("[name='name']");
  var phone = form.find("[name='phone']");
  var comment = form.find("[name='comment']");
  var to = form.find("[name='to']");
  var modal = $("#modal");
  var content = modal.find('.modal__content');
  var isValid = validateFields(form, [name, phone, comment, to]);
  if (isValid) {
    $.ajax({
      url: "https://webdev-api.loftschool.com/sendmail",
      method: "POST",
      data: {
        name: name.val(),
        phone: phone.val(),
        comment: comment.val(),
        to: to.val()
      },
      success: function success(data) {
        content.text(data.message);
        $('.form')[0].reset();
        $.fancybox.open({
          src: "#modal",
          type: "inline"
        });
      },
      error: function error(data) {
        if (data) {
          content.text("Ошибка сервера");
          $.fancybox.open({
            src: "#modal",
            type: "inline"
          });
        }
      }
    });
  }
});
$(".app-submit-button").click(function (e) {
  e.preventDefault();
  $.fancybox.close();
});
var sections = $('section');
var display = $('.maincontent');
var sideMenu = $('.fixed-menu');
var menuItems = sideMenu.find('.fixed-menu__item');
var mobileDetect = new MobileDetect(window.navigator.userAgent);
var isMobile = mobileDetect.mobile();
var inScroll = false;
sections.first().addClass('this-section');
var countSectionPosition = function countSectionPosition(sectionEq) {
  var position = sectionEq * -100;
  if (isNaN(position)) {
    console.error('передано не верное значение в countSectionPosition');
    return 0;
  }
  return position;
};
var changeMenuThemeForSection = function changeMenuThemeForSection(sectionEq) {
  var currentSection = sections.eq(sectionEq);
  var menuTheme = currentSection.attr('data-theme');
  var activeClass = 'fixed-menu--white';
  if (menuTheme == 'white') {
    sideMenu.addClass(activeClass);
  } else {
    sideMenu.removeClass('fixed-menu--white');
  }
};
var resetActiveClassForItem = function resetActiveClassForItem(item, itemEq, activeClass) {
  item.eq(itemEq).addClass(activeClass).siblings().removeClass(activeClass);
};
var perfomTransition = function perfomTransition(sectionEq) {
  if (inScroll) return;
  var transitionOver = 1000;
  var mouseInertiaOver = 300;
  inScroll = true;
  var position = countSectionPosition(sectionEq);
  changeMenuThemeForSection(sectionEq);
  display.css({
    transform: "translateY(".concat(position, "%)")
  });
  resetActiveClassForItem(sections, sectionEq, 'this-section');
  setTimeout(function () {
    inScroll = false;
    resetActiveClassForItem(menuItems, sectionEq, 'fixed-menu__item--active');
  }, transitionOver + mouseInertiaOver);
};
var viewportScroller = function viewportScroller() {
  var activeSection = sections.filter('.this-section');
  var nextSection = activeSection.next();
  var prevSection = activeSection.prev();
  return {
    next: function next() {
      if (nextSection.length) {
        perfomTransition(nextSection.index());
      }
    },
    prev: function prev() {
      if (prevSection.length) {
        perfomTransition(prevSection.index());
      }
    }
  };
};
$(window).on('wheel', function (e) {
  var deltaY = e.originalEvent.deltaY;
  var scroller = viewportScroller();
  if (deltaY > 0) {
    scroller.next();
  }
  if (deltaY < 0) {
    scroller.prev();
  }
});
$(window).on('keydown', function (e) {
  var tagName = e.target.tagName.toLowerCase();
  var userTypingInInputs = tagName == 'input' || tagName == 'textarea';
  var scroller = viewportScroller();
  if (userTypingInInputs) return;
  switch (e.keyCode) {
    case 38:
      scroller.prev();
      break;
    case 40:
      scroller.next();
      break;
  }
});
$('.wrapper').on('touchmove', function (e) {
  return e.preventDefault();
});
$('[data-scroll-to').click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr('data-scroll-to');
  var reqSection = $("[data-section=".concat(target, "]"));
  perfomTransition(reqSection.index());
});
if (isMobile) {
  $("body").swipe({
    swipe: function swipe(event, direction) {
      var scroller = viewportScroller();
      var scrollDirection = "";
      if (direction == 'up') scrollDirection = 'next';
      if (direction == 'down') scrollDirection = 'prev';
      scroller[scrollDirection]();
    }
  });
}
var player;
var playerContainer = $('.player');
var muteControler = $('.player__sound');
var eventsinit = function eventsinit() {
  $('.player__duration-play, .player__duration-pause').click(function (e) {
    e.preventDefault();
    if (playerContainer.hasClass('player--paused')) {
      player.pauseVideo();
    } else {
      player.playVideo();
    }
  });
  $('.player__sound-off, .player__sound-on').click(function (e) {
    e.preventDefault();
    if (muteControler.hasClass('player__sound--no-mute')) {
      muteControler.removeClass('player__sound--no-mute');
      player.mute();
    } else {
      muteControler.addClass('player__sound--no-mute');
      player.unMute();
    }
  });
  $('.player__playback').click(function (e) {
    var bar = $(e.currentTarget);
    var clickedPosition = e.originalEvent.layerX;
    var newButtonPositionPercent = clickedPosition / bar.width() * 100;
    var newPlaybackPositionSec = player.getDuration() / 100 * newButtonPositionPercent;
    $('.player__button-playback').css({
      left: "".concat(newButtonPositionPercent, "%")
    });
    player.seekTo(newPlaybackPositionSec);
  });
  $('.player__splash, .player__play-image').click(function (e) {
    player.playVideo();
  });
  $('.player__valume').click(function (e) {
    var valume = $(e.currentTarget);
    var clickedPositionValume = e.originalEvent.layerX;
    var buttonPositionValume = clickedPositionValume / valume.width() * 100;
    $('.player__button-valume').css({
      left: "".concat(buttonPositionValume, "%")
    });
    player.setVolume(buttonPositionValume);
    console.log(buttonPositionValume);
  });
};
var onPlayerReady = function onPlayerReady() {
  var interval;
  var duratinSec = player.getDuration();
  if (typeof interval != 'undefined') {
    clearInterval(interval);
  }
  interval = setInterval(function () {
    var completedSec = player.getCurrentTime();
    var completedPercent = completedSec / duratinSec * 100;
    $('.player__button-playback').css({
      left: "".concat(completedPercent, "%")
    });
  }, 1000);
};
var onPlayerStateChange = function onPlayerStateChange(event) {
  switch (event.data) {
    case 1:
      playerContainer.addClass('player--active');
      playerContainer.addClass('player--paused');
      break;
    case 2:
      playerContainer.removeClass('player--active');
      playerContainer.removeClass('player--paused');
      break;
  }
};
function onYouTubeIframeAPIReady() {
  player = new YT.Player('youtube-player', {
    height: '390',
    width: '662',
    videoId: 'sDh_kFP-ppk',
    events: {
      'onReady': onPlayerReady,
      'onStateChange': onPlayerStateChange
    },
    playerVars: {
      controls: 0,
      disablekb: 0,
      showinfo: 0,
      rel: 0,
      autoplay: 0,
      modestbranding: 0
    }
  });
}
eventsinit();
var findBlockByAlias = function findBlockByAlias(alias) {
  return $('.reviews__item').filter(function (ndx, item) {
    return $(item).attr('data-linked') == alias;
  });
};
$('.interactive-avatar__link').click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr('data-open');
  var itemToShow = findBlockByAlias(target);
  var curItem = $this.closest('.reviews__swither-item');
  itemToShow.addClass('reviews__item--active').siblings().removeClass('reviews__item--active');
  curItem.addClass('interactive-avatar--active').siblings().removeClass('interactive-avatar--active');
});
var slides = document.querySelector('.slider__slides');
var arrow = document.querySelector('.slider__buttons');
var currentNdx = 0;
var slider = function slider(event) {
  var target = event.target;
  if (target.classList.contains('slider__button')) {
    var targetValue = target.dataset.button;
    if (targetValue === 'right') {
      if (currentNdx < slides.children.length - 1) {
        currentNdx += 1;
        doTransition(currentNdx);
      } else return;
    }
    if (targetValue === 'left') {
      if (currentNdx > 0) {
        currentNdx -= 1;
        doTransition(currentNdx);
      } else return;
    }
  }
};
function doTransition(index) {
  slides.style.transform = "translateX(-".concat(index * 100, "%)");
}
arrow.addEventListener('click', slider);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGVvbi5qcyIsImNvbG9ycy1tZW51LmpzIiwiZ2Vhci5qcyIsImhhbWJ1cmdlci5qcyIsIm1hcC5qcyIsIm1vZGFsLmpzIiwib3BzLmpzIiwicGxheWVyLmpzIiwicmV2aWV3cy5qcyIsInNsaWRlci5qcyJdLCJuYW1lcyI6WyJvcGVuSXRlbSIsIml0ZW0iLCJjb250YWluZXIiLCJjbG9zZXN0IiwiY29udGVudEJsb2NrIiwiZmluZCIsInRleHRCbG9jayIsInJlcUhlaWdodCIsImhlaWdodCIsImFkZENsYXNzIiwiY2xvc2VFdmVyeUl0ZW0iLCJpdGVtcyIsIml0ZW1Db250aWFuZXIiLCJyZW1vdmVDbGFzcyIsIiQiLCJjbGljayIsImUiLCIkdGhpcyIsImN1cnJlbnRUYXJnZXQiLCJlbGVtQ29udGFpbmVyIiwiaGFzQ2xhc3MiLCJtZXN1cmVXaWR0aCIsInJlcUl0ZW1XaWR0aCIsInNjcmVlbldpZHRoIiwid2luZG93Iiwid2lkdGgiLCJidXR0b25zQmxvY2tzIiwidGl0bGVzV2lkdGgiLCJsZW5ndGgiLCJ0ZXh0Q29udGFpbmVyIiwicGFkZGluZ0xlZnQiLCJwYXJzZUludCIsImNzcyIsInBhZGRpbmdSaWdodCIsImlzTW9iaWxlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjbG9zZUV2ZXJ5SXRlbUluQ29udGFpbmVyIiwiY29udGVudCIsIm9wZW5JdGVtQ29sb3JzIiwiaGlkZGVuQ29udGVudCIsInJlcVdpZHRoIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsIml0ZW1PcGVuZWQiLCJnZWFyT25lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2VhclR3byIsImdlYXJSb3RhdGlvbk9uZSIsImdlYXJSb3RhdGlvblR3byIsImdlYXJEcm9wZG93bk9uZSIsImdlYXJEcm9wZG93blR3byIsImNsaWNrR2VhciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW1idXJnZXIiLCJvdmVybGF5IiwiYm9keSIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhY3RpdmVNZW51IiwibXlNYXAiLCJpbml0IiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJjb29yZHMiLCJteUNvbGxlY3Rpb24iLCJHZW9PYmplY3RDb2xsZWN0aW9uIiwiZHJhZ2dhYmxlIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiY29vcmQiLCJhZGQiLCJQbGFjZW1hcmsiLCJnZW9PYmplY3RzIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsInJlYWR5IiwidmFsaWRhdGVGaWVsZHMiLCJmb3JtIiwiZmllbGRzQXJyYXkiLCJmaWVsZWQiLCJ2YWwiLCJ0cmltIiwiZXJyb3JGaWVsZHMiLCJzdWJtaXQiLCJuYW1lIiwicGhvbmUiLCJjb21tZW50IiwidG8iLCJtb2RhbCIsImlzVmFsaWQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsInN1Y2Nlc3MiLCJ0ZXh0IiwibWVzc2FnZSIsInJlc2V0IiwiZmFuY3lib3giLCJvcGVuIiwic3JjIiwidHlwZSIsImVycm9yIiwiY2xvc2UiLCJzZWN0aW9ucyIsImRpc3BsYXkiLCJzaWRlTWVudSIsIm1lbnVJdGVtcyIsIm1vYmlsZURldGVjdCIsIk1vYmlsZURldGVjdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1vYmlsZSIsImluU2Nyb2xsIiwiZmlyc3QiLCJjb3VudFNlY3Rpb25Qb3NpdGlvbiIsInNlY3Rpb25FcSIsInBvc2l0aW9uIiwiaXNOYU4iLCJjb25zb2xlIiwiY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbiIsImN1cnJlbnRTZWN0aW9uIiwiZXEiLCJtZW51VGhlbWUiLCJhdHRyIiwiYWN0aXZlQ2xhc3MiLCJyZXNldEFjdGl2ZUNsYXNzRm9ySXRlbSIsIml0ZW1FcSIsInNpYmxpbmdzIiwicGVyZm9tVHJhbnNpdGlvbiIsInRyYW5zaXRpb25PdmVyIiwibW91c2VJbmVydGlhT3ZlciIsInRyYW5zZm9ybSIsImNvbmNhdCIsInNldFRpbWVvdXQiLCJ2aWV3cG9ydFNjcm9sbGVyIiwiYWN0aXZlU2VjdGlvbiIsImZpbHRlciIsIm5leHRTZWN0aW9uIiwibmV4dCIsInByZXZTZWN0aW9uIiwicHJldiIsImluZGV4IiwiZGVsdGFZIiwib3JpZ2luYWxFdmVudCIsInNjcm9sbGVyIiwidGFnTmFtZSIsInRhcmdldCIsInRvTG93ZXJDYXNlIiwidXNlclR5cGluZ0luSW5wdXRzIiwia2V5Q29kZSIsInJlcVNlY3Rpb24iLCJzd2lwZSIsImV2ZW50IiwiZGlyZWN0aW9uIiwic2Nyb2xsRGlyZWN0aW9uIiwicGxheWVyIiwicGxheWVyQ29udGFpbmVyIiwibXV0ZUNvbnRyb2xlciIsImV2ZW50c2luaXQiLCJwYXVzZVZpZGVvIiwicGxheVZpZGVvIiwibXV0ZSIsInVuTXV0ZSIsImJhciIsImNsaWNrZWRQb3NpdGlvbiIsImxheWVyWCIsIm5ld0J1dHRvblBvc2l0aW9uUGVyY2VudCIsIm5ld1BsYXliYWNrUG9zaXRpb25TZWMiLCJnZXREdXJhdGlvbiIsImxlZnQiLCJzZWVrVG8iLCJ2YWx1bWUiLCJjbGlja2VkUG9zaXRpb25WYWx1bWUiLCJidXR0b25Qb3NpdGlvblZhbHVtZSIsInNldFZvbHVtZSIsImxvZyIsIm9uUGxheWVyUmVhZHkiLCJpbnRlcnZhbCIsImR1cmF0aW5TZWMiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjb21wbGV0ZWRTZWMiLCJnZXRDdXJyZW50VGltZSIsImNvbXBsZXRlZFBlcmNlbnQiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJZVCIsIlBsYXllciIsInZpZGVvSWQiLCJldmVudHMiLCJwbGF5ZXJWYXJzIiwiZGlzYWJsZWtiIiwic2hvd2luZm8iLCJyZWwiLCJhdXRvcGxheSIsIm1vZGVzdGJyYW5kaW5nIiwiZmluZEJsb2NrQnlBbGlhcyIsImFsaWFzIiwibmR4IiwiaXRlbVRvU2hvdyIsImN1ckl0ZW0iLCJzbGlkZXMiLCJhcnJvdyIsImN1cnJlbnROZHgiLCJzbGlkZXIiLCJjb250YWlucyIsInRhcmdldFZhbHVlIiwiZGF0YXNldCIsImJ1dHRvbiIsImNoaWxkcmVuIiwiZG9UcmFuc2l0aW9uIiwic3R5bGUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBLFNBQUFBLFFBQUFBLENBQUFDLElBQUEsRUFBQTtFQUNBLElBQUFDLFNBQUEsR0FBQUQsSUFBQSxDQUFBRSxPQUFBLENBQUEsYUFBQSxDQUFBO0VBQ0EsSUFBQUMsWUFBQSxHQUFBRixTQUFBLENBQUFHLElBQUEsQ0FBQSxnQkFBQSxDQUFBO0VBQ0EsSUFBQUMsU0FBQSxHQUFBRixZQUFBLENBQUFDLElBQUEsQ0FBQSxzQkFBQSxDQUFBO0VBQ0EsSUFBQUUsU0FBQSxHQUFBRCxTQUFBLENBQUFFLE1BQUEsQ0FBQSxDQUFBO0VBRUFOLFNBQUEsQ0FBQU8sUUFBQSxDQUFBLFFBQUEsQ0FBQTtFQUNBTCxZQUFBLENBQUFJLE1BQUEsQ0FBQUQsU0FBQSxDQUFBO0FBQ0EsQ0FBQTtBQUVBLElBQUFHLGNBQUEsR0FBQSxTQUFBQSxjQUFBQSxDQUFBUixTQUFBLEVBQUE7RUFDQSxJQUFBUyxLQUFBLEdBQUFULFNBQUEsQ0FBQUcsSUFBQSxDQUFBLGdCQUFBLENBQUE7RUFDQSxJQUFBTyxhQUFBLEdBQUFWLFNBQUEsQ0FBQUcsSUFBQSxDQUFBLGFBQUEsQ0FBQTtFQUVBTyxhQUFBLENBQUFDLFdBQUEsQ0FBQSxRQUFBLENBQUE7RUFDQUYsS0FBQSxDQUFBSCxNQUFBLENBQUEsQ0FBQSxDQUFBO0FBQ0EsQ0FBQTtBQUVBTSxDQUFBLENBQUEsYUFBQSxDQUFBLENBQUFDLEtBQUEsQ0FBQSxVQUFBQyxDQUFBLEVBQUE7RUFDQSxJQUFBQyxLQUFBLEdBQUFILENBQUEsQ0FBQUUsQ0FBQSxDQUFBRSxhQUFBLENBQUE7RUFDQSxJQUFBaEIsU0FBQSxHQUFBZSxLQUFBLENBQUFkLE9BQUEsQ0FBQSxPQUFBLENBQUE7RUFDQSxJQUFB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QUFBO0lBQ0EsSUFBQUMsV0FBQSxHQUFBNUQsTUFBQSxDQUFBNkQsT0FBQSxDQUFBQyxNQUFBO0lBRUEsSUFBQUYsV0FBQSxLQUFBLE9BQUEsRUFBQTtNQUNBLElBQUFILFVBQUEsR0FBQUYsTUFBQSxDQUFBUSxRQUFBLENBQUFoTSxNQUFBLEdBQUEsQ0FBQSxFQUFBO1FBQ0EwTCxVQUFBLElBQUEsQ0FBQTtRQUNBTyxZQUFBLENBQUFQLFVBQUEsQ0FBQTtNQUNBLENBQUEsTUFBQTtJQUNBO0lBRUEsSUFBQUcsV0FBQSxLQUFBLE1BQUEsRUFBQTtNQUNBLElBQUFILFVBQUEsR0FBQSxDQUFBLEVBQUE7UUFDQUEsVUFBQSxJQUFBLENBQUE7UUFDQU8sWUFBQSxDQUFBUCxVQUFBLENBQUE7TUFDQSxDQUFBLE1BQUE7SUFDQTtFQUNBO0FBQ0EsQ0FBQTtBQUVBLFNBQUFPLFlBQUFBLENBQUFyRSxLQUFBLEVBQUE7RUFDQTRELE1BQUEsQ0FBQVUsS0FBQSxDQUFBaEYsU0FBQSxrQkFBQUMsTUFBQSxDQUFBUyxLQUFBLEdBQUEsR0FBQSxPQUFBO0FBQ0E7QUFFQTZELEtBQUEsQ0FBQTdKLGdCQUFBLENBQUEsT0FBQSxFQUFBK0osTUFBQSxDQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcGVuSXRlbSA9IGl0ZW0gPT4ge1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGl0ZW0uY2xvc2VzdCgnLnRlYW1fX2l0ZW0nKTtcclxuICBjb25zdCBjb250ZW50QmxvY2sgPSBjb250YWluZXIuZmluZCgnLnRlYW1fX2NvbnRlbnQnKTtcclxuICBjb25zdCB0ZXh0QmxvY2sgPSBjb250ZW50QmxvY2suZmluZCgnLnRlYW1fX2NvbnRlbnQtYmxvY2snKTtcclxuICBjb25zdCByZXFIZWlnaHQgPSB0ZXh0QmxvY2suaGVpZ2h0KCk7XHJcblxyXG4gIGNvbnRhaW5lci5hZGRDbGFzcygnYWN0aXZlJylcclxuICBjb250ZW50QmxvY2suaGVpZ2h0KHJlcUhlaWdodCk7XHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlRXZlcnlJdGVtID0gY29udGFpbmVyID0+IHtcclxuICBjb25zdCBpdGVtcyA9IGNvbnRhaW5lci5maW5kKCcudGVhbV9fY29udGVudCcpO1xyXG4gIGNvbnN0IGl0ZW1Db250aWFuZXIgPSBjb250YWluZXIuZmluZCgnLnRlYW1fX2l0ZW0nKTtcclxuXHJcbiAgaXRlbUNvbnRpYW5lci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgaXRlbXMuaGVpZ2h0KDApXHJcbn1cclxuXHJcbiQoJy50ZWFtX19uYW1lJykuY2xpY2soZSA9PiB7XHJcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgY29uc3QgY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCgnLnRlYW0nKTtcclxuICBjb25zdCBlbGVtQ29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCgnLnRlYW1fX2l0ZW0nKTtcclxuICBcclxuICBpZiAoZWxlbUNvbnRhaW5lci5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgIGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lcik7XHJcbiAgfSBlbHNlIHtcclxuICBjbG9zZUV2ZXJ5SXRlbShjb250YWluZXIpO1xyXG4gIG9wZW5JdGVtKCR0aGlzKTtcclxuICB9XHJcbn0pIiwiY29uc3QgbWVzdXJlV2lkdGggPSAoaXRlbSkgPT4ge1xyXG5cclxuICBsZXQgcmVxSXRlbVdpZHRoID0gMDtcclxuXHJcbiAgY29uc3Qgc2NyZWVuV2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuICBjb25zdCBjb250YWluZXIgPSBpdGVtLmNsb3Nlc3QoJy5jb2xvcnMtbWVudScpO1xyXG4gIGNvbnN0IGJ1dHRvbnNCbG9ja3MgPSBjb250YWluZXIuZmluZCgnLmNvbG9ycy1tZW51X19idXR0b24nKTtcclxuICBjb25zdCB0aXRsZXNXaWR0aCA9IGJ1dHRvbnNCbG9ja3Mud2lkdGgoKSAqIGJ1dHRvbnNCbG9ja3MubGVuZ3RoO1xyXG4gIFxyXG4gIGNvbnN0IHRleHRDb250YWluZXIgPSBpdGVtLmZpbmQoJy5jb2xvcnMtbWVudV9fY29udGFpbmVyJyk7XHJcbiAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludCh0ZXh0Q29udGFpbmVyLmNzcygncGFkZGluZy1sZWZ0JykpO1xyXG4gIGNvbnN0IHBhZGRpbmdSaWdodCA9IHBhcnNlSW50KHRleHRDb250YWluZXIuY3NzKCdwYWRkaW5nLXJpZ2h0JykpO1xyXG5cclxuICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA3NjhweCknKS5tYXRjaGVzO1xyXG4gIFxyXG4gIGlmIChpc01vYmlsZSkge1xyXG4gICAgcmVxSXRlbVdpZHRoID0gc2NyZWVuV2lkdGggLSB0aXRsZXNXaWR0aDtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVxSXRlbVdpZHRoID0gNTAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNvbnRhaW5lcjogcmVxSXRlbVdpZHRoLFxyXG4gICAgdGV4dENvbnRhaW5lcjogcmVxSXRlbVdpZHRoIC0gcGFkZGluZ0xlZnQgLSBwYWRkaW5nUmlnaHRcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZUV2ZXJ5SXRlbUluQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4ge1xyXG4gIGNvbnN0IGl0ZW0gPSBjb250YWluZXIuZmluZCgnLmNvbG9ycy1tZW51X19pdGVtJyk7XHJcbiAgY29uc3QgY29udGVudCA9IGNvbnRhaW5lci5maW5kKCcuY29sb3JzLW1lbnVfX2NvbnRlbnQnKTtcclxuXHJcbiAgaXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlLWNvbG9ycycpO1xyXG4gIGNvbnRlbnQud2lkdGgoMCk7XHJcbn07XHJcblxyXG5jb25zdCBvcGVuSXRlbUNvbG9ycyA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgaGlkZGVuQ29udGVudCA9IGl0ZW0uZmluZCgnLmNvbG9ycy1tZW51X19jb250ZW50Jyk7XHJcbiAgY29uc3QgcmVxV2lkdGggPSBtZXN1cmVXaWR0aChpdGVtKTtcclxuICBjb25zdCB0ZXh0QmxvY2sgPSBpdGVtLmZpbmQoJy5jb2xvcnMtbWVudV9fY29udGFpbmVyJyk7XHJcblxyXG4gIGl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZS1jb2xvcnMnKTtcclxuICBoaWRkZW5Db250ZW50LndpZHRoKHJlcVdpZHRoLmNvbnRhaW5lcik7XHJcbiAgdGV4dEJsb2NrLndpZHRoKHJlcVdpZHRoLnRleHRDb250YWluZXIpO1xyXG59O1xyXG5cclxuJCgnLmNvbG9ycy1tZW51X19idXR0b24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgY29uc3QgaXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5jb2xvcnMtbWVudV9faXRlbScpO1xyXG4gIGNvbnN0IGl0ZW1PcGVuZWQgPSBpdGVtLmhhc0NsYXNzKCdhY3RpdmUtY29sb3JzJyk7XHJcbiAgY29uc3QgY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCgnLmNvbG9ycy1tZW51Jyk7XHJcblxyXG4gIGlmIChpdGVtT3BlbmVkKSB7XHJcbiAgICBjbG9zZUV2ZXJ5SXRlbUluQ29udGFpbmVyKGNvbnRhaW5lcilcclxuICB9IGVsc2Uge1xyXG4gICAgY2xvc2VFdmVyeUl0ZW1JbkNvbnRhaW5lcihjb250YWluZXIpO1xyXG4gICAgb3Blbkl0ZW1Db2xvcnMoaXRlbSk7XHJcbiAgfVxyXG59KTtcclxuIiwibGV0IGdlYXJPbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2Vhcl9fYnV0dG9uLW9uZScpO1xyXG5sZXQgZ2VhclR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZWFyX19idXR0b24tdHdvJyk7XHJcbmxldCBnZWFyUm90YXRpb25PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2Vhci1pbWFnZS1vbmUnKTtcclxubGV0IGdlYXJSb3RhdGlvblR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZWFyLWltYWdlLXR3bycpO1xyXG5sZXQgZ2VhckRyb3Bkb3duT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlYXJfX2Ryb3Bkb3duLW9uZScpO1xyXG5sZXQgZ2VhckRyb3Bkb3duVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dlYXJfX2Ryb3Bkb3duLXR3bycpO1xyXG5cclxuZnVuY3Rpb24gY2xpY2tHZWFyKCkge1xyXG4gIGdlYXJSb3RhdGlvbk9uZS5jbGFzc0xpc3QudG9nZ2xlKCdnZWFyLWltYWdlLS1yb3RhdGlvbicpO1xyXG4gIGdlYXJSb3RhdGlvblR3by5jbGFzc0xpc3QudG9nZ2xlKCdnZWFyLWltYWdlLS1yb3RhdGlvbicpO1xyXG4gIGdlYXJEcm9wZG93bk9uZS5jbGFzc0xpc3QudG9nZ2xlKCdnZWFyX19kcm9wZG93bi0tYWN0aXZlJyk7XHJcbiAgZ2VhckRyb3Bkb3duVHdvLmNsYXNzTGlzdC50b2dnbGUoJ2dlYXJfX2Ryb3Bkb3duLS1hY3RpdmUnKTtcclxufVxyXG5cclxuZ2Vhck9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrR2Vhcik7XHJcbmdlYXJUd28uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0dlYXIpO1xyXG5cclxuIiwibGV0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXInKTtcclxubGV0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3ZlcmxheScpO1xyXG5sZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuXHJcblxyXG5sZXQgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3ZlcmxheS1tZW51X19saW5rJylcclxuXHJcbmxpbmtzLmZvckVhY2goZnVuY3Rpb24oZSkge1xyXG4gIGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY3RpdmVNZW51KTtcclxufSlcclxuXHJcbmZ1bmN0aW9uIGFjdGl2ZU1lbnUoKSB7XHJcbiAgaGFtYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlci0tYWN0aXZlJyk7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdvdmVybGF5LS1hY3RpdmUnKTtcclxuICBib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2JvZHktLWFjdGl2ZS1tZW51Jyk7XHJcbn1cclxuXHJcbmhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFjdGl2ZU1lbnUpO1xyXG4iLCJsZXQgbXlNYXA7XHJcbiBcclxuY29uc3QgaW5pdCA9ICgpID0+IHtcclxuIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XHJcbiAgIGNlbnRlcjogWzU1Ljc1NTQ2MSwgMzcuNjE5MjI4XSxcclxuICAgem9vbTogMTQsXHJcbiAgIGNvbnRyb2xzOiBbXVxyXG4gfSk7XHJcblxyXG4gY29uc3QgY29vcmRzID0gW1xyXG4gIFs1NS43NTg0MDMsIDM3LjU4MzU2MV0sXHJcbiAgWzU1Ljc1NjQ1MiwgMzcuNjIwNTc0XSxcclxuICBbNTUuNzUwMjAxLCAzNy42MDM2MDJdLFxyXG4gIFs1NS43NDM5MzcsIDM3LjU4MTA0MV1cclxuIF07XHJcblxyXG4gY29uc3QgbXlDb2xsZWN0aW9uID0gbmV3IHltYXBzLkdlb09iamVjdENvbGxlY3Rpb24oe30sIHtcclxuICBkcmFnZ2FibGU6IGZhbHNlLCBcclxuICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcbiAgaWNvbkltYWdlSHJlZjogJ0lNRy9tYXJrZXIuc3ZnJyxcclxuICBpY29uSW1hZ2VTaXplOiBbMzAsIDQyXSxcclxuICBpY29uSW1hZ2VPZmZzZXQ6IFstMywgLTQyXVxyXG4gfSk7XHJcblxyXG4gY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gIG15Q29sbGVjdGlvbi5hZGQobmV3IHltYXBzLlBsYWNlbWFyayhjb29yZCkpO1xyXG4gfSk7XHJcblxyXG4gbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlDb2xsZWN0aW9uKTtcclxuXHJcbiBteU1hcC5iZWhhdmlvcnMuZGlzYWJsZSgnc2Nyb2xsWm9vbScpO1xyXG59XHJcbiBcclxueW1hcHMucmVhZHkoaW5pdCk7IiwiY29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoZm9ybSwgZmllbGRzQXJyYXkpID0+IHtcclxuICBmaWVsZHNBcnJheS5mb3JFYWNoKGZpZWxlZCA9PiB7XHJcbiAgICBmaWVsZWQucmVtb3ZlQ2xhc3MoXCJpbnB1dC1lcnJvclwiKTtcclxuICAgIGlmIChmaWVsZWQudmFsKCkudHJpbSgpID09IFwiXCIpIHtcclxuICAgICAgZmllbGVkLmFkZENsYXNzKFwiaW5wdXQtZXJyb3JcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVycm9yRmllbGRzID0gZm9ybS5maW5kKFwiLmlucHV0LWVycm9yXCIpO1xyXG5cclxuICByZXR1cm4gZXJyb3JGaWVsZHMubGVuZ3RoID09IDA7XHJcbn1cclxuXHJcbiQoJy5mb3JtJykuc3VibWl0KGUgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgZm9ybSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCBuYW1lID0gZm9ybS5maW5kKFwiW25hbWU9J25hbWUnXVwiKTtcclxuICBjb25zdCBwaG9uZSA9IGZvcm0uZmluZChcIltuYW1lPSdwaG9uZSddXCIpO1xyXG4gIGNvbnN0IGNvbW1lbnQgPSBmb3JtLmZpbmQoXCJbbmFtZT0nY29tbWVudCddXCIpO1xyXG4gIGNvbnN0IHRvID0gZm9ybS5maW5kKFwiW25hbWU9J3RvJ11cIik7XHJcblxyXG4gIGNvbnN0IG1vZGFsID0gJChcIiNtb2RhbFwiKTtcclxuICBjb25zdCBjb250ZW50ID0gbW9kYWwuZmluZCgnLm1vZGFsX19jb250ZW50Jyk7XHJcblxyXG4gIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZUZpZWxkcyhmb3JtLCBbbmFtZSwgcGhvbmUsIGNvbW1lbnQsIHRvXSk7XHJcblxyXG4gIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IFwiaHR0cHM6Ly93ZWJkZXYtYXBpLmxvZnRzY2hvb2wuY29tL3NlbmRtYWlsXCIsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBuYW1lOiBuYW1lLnZhbCgpLFxyXG4gICAgICAgIHBob25lOiBwaG9uZS52YWwoKSxcclxuICAgICAgICBjb21tZW50OiBjb21tZW50LnZhbCgpLFxyXG4gICAgICAgIHRvOiB0by52YWwoKSxcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICBjb250ZW50LnRleHQoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAkKCcuZm9ybScpWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgJC5mYW5jeWJveC5vcGVuKHtcclxuICAgICAgICAgIHNyYzogXCIjbW9kYWxcIixcclxuICAgICAgICAgIHR5cGU6IFwiaW5saW5lXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICBjb250ZW50LnRleHQoXCLQntGI0LjQsdC60LAg0YHQtdGA0LLQtdGA0LBcIik7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICQuZmFuY3lib3gub3Blbih7XHJcbiAgICAgICAgICAgIHNyYzogXCIjbW9kYWxcIixcclxuICAgICAgICAgICAgdHlwZTogXCJpbmxpbmVcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4kKFwiLmFwcC1zdWJtaXQtYnV0dG9uXCIpLmNsaWNrKChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAkLmZhbmN5Ym94LmNsb3NlKCk7XHJcbn0pOyIsImNvbnN0IHNlY3Rpb25zID0gJCgnc2VjdGlvbicpO1xyXG5jb25zdCBkaXNwbGF5ID0gJCgnLm1haW5jb250ZW50Jyk7XHJcbmNvbnN0IHNpZGVNZW51ID0gJCgnLmZpeGVkLW1lbnUnKTtcclxuY29uc3QgbWVudUl0ZW1zID0gc2lkZU1lbnUuZmluZCgnLmZpeGVkLW1lbnVfX2l0ZW0nKVxyXG5cclxuY29uc3QgbW9iaWxlRGV0ZWN0ID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbmNvbnN0IGlzTW9iaWxlID0gbW9iaWxlRGV0ZWN0Lm1vYmlsZSgpO1xyXG5cclxubGV0IGluU2Nyb2xsID0gZmFsc2U7XHJcblxyXG5zZWN0aW9ucy5maXJzdCgpLmFkZENsYXNzKCd0aGlzLXNlY3Rpb24nKTtcclxuXHJcbmNvbnN0IGNvdW50U2VjdGlvblBvc2l0aW9uID0gc2VjdGlvbkVxID0+IHtcclxuICBjb25zdCBwb3NpdGlvbiA9IHNlY3Rpb25FcSAqIC0xMDBcclxuXHJcbiAgaWYgKGlzTmFOKHBvc2l0aW9uKSkge1xyXG4gICAgY29uc29sZS5lcnJvcign0L/QtdGA0LXQtNCw0L3QviDQvdC1INCy0LXRgNC90L7QtSDQt9C90LDRh9C10L3QuNC1INCyIGNvdW50U2VjdGlvblBvc2l0aW9uJyk7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBwb3NpdGlvbjtcclxufVxyXG5cclxuY29uc3QgY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbiA9IHNlY3Rpb25FcSA9PiB7XHJcbiAgY29uc3QgY3VycmVudFNlY3Rpb24gPSBzZWN0aW9ucy5lcShzZWN0aW9uRXEpO1xyXG4gIGNvbnN0IG1lbnVUaGVtZSA9Y3VycmVudFNlY3Rpb24uYXR0cignZGF0YS10aGVtZScpO1xyXG4gIGNvbnN0IGFjdGl2ZUNsYXNzID0gJ2ZpeGVkLW1lbnUtLXdoaXRlJztcclxuICBcclxuXHJcbiAgaWYgKG1lbnVUaGVtZSA9PSAnd2hpdGUnKSB7XHJcbiAgICBzaWRlTWVudS5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNpZGVNZW51LnJlbW92ZUNsYXNzKCdmaXhlZC1tZW51LS13aGl0ZScpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtID0gKGl0ZW0sIGl0ZW1FcSwgYWN0aXZlQ2xhc3MpID0+IHtcclxuICBpdGVtLmVxKGl0ZW1FcSkuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG59O1xyXG5cclxuY29uc3QgcGVyZm9tVHJhbnNpdGlvbiA9IChzZWN0aW9uRXEpID0+IHtcclxuICBpZiAoaW5TY3JvbGwpIHJldHVybjtcclxuXHJcbiAgY29uc3QgdHJhbnNpdGlvbk92ZXIgPSAxMDAwO1xyXG4gIGNvbnN0IG1vdXNlSW5lcnRpYU92ZXIgPSAzMDA7XHJcblxyXG4gIGluU2Nyb2xsID0gdHJ1ZTtcclxuXHJcbiAgY29uc3QgcG9zaXRpb24gPSBjb3VudFNlY3Rpb25Qb3NpdGlvbihzZWN0aW9uRXEpO1xyXG5cclxuICBjaGFuZ2VNZW51VGhlbWVGb3JTZWN0aW9uKHNlY3Rpb25FcSk7XHJcblxyXG4gIGRpc3BsYXkuY3NzKHtcclxuICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtwb3NpdGlvbn0lKWBcclxuICB9KTtcclxuXHJcbiAgcmVzZXRBY3RpdmVDbGFzc0Zvckl0ZW0oc2VjdGlvbnMsIHNlY3Rpb25FcSwgJ3RoaXMtc2VjdGlvbicpXHJcblxyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgaW5TY3JvbGwgPSBmYWxzZTtcclxuICAgIHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtKG1lbnVJdGVtcywgc2VjdGlvbkVxLCAnZml4ZWQtbWVudV9faXRlbS0tYWN0aXZlJylcclxuICB9LCB0cmFuc2l0aW9uT3ZlciArIG1vdXNlSW5lcnRpYU92ZXIpO1xyXG59O1xyXG5cclxuY29uc3Qgdmlld3BvcnRTY3JvbGxlciA9ICgpID0+IHtcclxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gc2VjdGlvbnMuZmlsdGVyKCcudGhpcy1zZWN0aW9uJyk7XHJcbiAgY29uc3QgbmV4dFNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLm5leHQoKTtcclxuICBjb25zdCBwcmV2U2VjdGlvbiA9IGFjdGl2ZVNlY3Rpb24ucHJldigpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmV4dCgpIHtcclxuICAgICAgaWYgKG5leHRTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgIHBlcmZvbVRyYW5zaXRpb24obmV4dFNlY3Rpb24uaW5kZXgoKSlcclxuICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJldigpIHtcclxuICAgICAgaWYgKHByZXZTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgIHBlcmZvbVRyYW5zaXRpb24ocHJldlNlY3Rpb24uaW5kZXgoKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfTtcclxufTtcclxuXHJcbiQod2luZG93KS5vbignd2hlZWwnLCBlPT4ge1xyXG4gIGNvbnN0IGRlbHRhWSA9IGUub3JpZ2luYWxFdmVudC5kZWx0YVk7XHJcbiAgY29uc3Qgc2Nyb2xsZXIgPSB2aWV3cG9ydFNjcm9sbGVyKCk7XHJcblxyXG4gIGlmIChkZWx0YVkgPiAwKSB7XHJcbiAgICBzY3JvbGxlci5uZXh0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoZGVsdGFZIDwgMCkge1xyXG4gICAgc2Nyb2xsZXIucHJldigpO1xyXG4gIH1cclxufSk7XHJcblxyXG4kKHdpbmRvdykub24oJ2tleWRvd24nLCBlID0+IHtcclxuICBjb25zdCB0YWdOYW1lID0gZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gIGNvbnN0IHVzZXJUeXBpbmdJbklucHV0cyA9IHRhZ05hbWUgPT0gJ2lucHV0JyB8fCB0YWdOYW1lID09ICd0ZXh0YXJlYSc7XHJcbiAgY29uc3Qgc2Nyb2xsZXIgPSB2aWV3cG9ydFNjcm9sbGVyKCk7XHJcbiAgXHJcbiAgaWYodXNlclR5cGluZ0luSW5wdXRzKSByZXR1cm47XHJcblxyXG4gICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgY2FzZSAzODpcclxuICAgICAgICBzY3JvbGxlci5wcmV2KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIDQwOlxyXG4gICAgICAgIHNjcm9sbGVyLm5leHQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG4kKCcud3JhcHBlcicpLm9uKCd0b3VjaG1vdmUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSk7XHJcblxyXG4kKCdbZGF0YS1zY3JvbGwtdG8nKS5jbGljayhlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2Nyb2xsLXRvJyk7XHJcbiAgY29uc3QgcmVxU2VjdGlvbiA9ICQoYFtkYXRhLXNlY3Rpb249JHt0YXJnZXR9XWApO1xyXG5cclxuICBwZXJmb21UcmFuc2l0aW9uKHJlcVNlY3Rpb24uaW5kZXgoKSk7XHJcbn0pO1xyXG5cclxuaWYgKGlzTW9iaWxlKSB7XHJcbiAgICAgICQoXCJib2R5XCIpLnN3aXBlKHtcclxuICAgICAgc3dpcGU6IGZ1bmN0aW9uIChldmVudCwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsZXIgPSB2aWV3cG9ydFNjcm9sbGVyKCk7XHJcbiAgICAgICAgbGV0IHNjcm9sbERpcmVjdGlvbiA9IFwiXCI7XHJcbiAgXHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAndXAnKSBzY3JvbGxEaXJlY3Rpb24gPSAnbmV4dCc7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnZG93bicpIHNjcm9sbERpcmVjdGlvbiA9ICdwcmV2JztcclxuICBcclxuICAgICAgICBzY3JvbGxlcltzY3JvbGxEaXJlY3Rpb25dKCk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbiIsImxldCBwbGF5ZXI7XHJcbmNvbnN0IHBsYXllckNvbnRhaW5lciA9ICQoJy5wbGF5ZXInKTtcclxuY29uc3QgbXV0ZUNvbnRyb2xlciA9ICQoJy5wbGF5ZXJfX3NvdW5kJylcclxuXHJcbmxldCBldmVudHNpbml0ID0gKCkgPT4ge1xyXG4gICQoJy5wbGF5ZXJfX2R1cmF0aW9uLXBsYXksIC5wbGF5ZXJfX2R1cmF0aW9uLXBhdXNlJykuY2xpY2soZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKHBsYXllckNvbnRhaW5lci5oYXNDbGFzcygncGxheWVyLS1wYXVzZWQnKSkge1xyXG4gICAgICBwbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcucGxheWVyX19zb3VuZC1vZmYsIC5wbGF5ZXJfX3NvdW5kLW9uJykuY2xpY2soZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKG11dGVDb250cm9sZXIuaGFzQ2xhc3MoJ3BsYXllcl9fc291bmQtLW5vLW11dGUnKSkge1xyXG4gICAgICBtdXRlQ29udHJvbGVyLnJlbW92ZUNsYXNzKCdwbGF5ZXJfX3NvdW5kLS1uby1tdXRlJyk7XHJcbiAgICAgIHBsYXllci5tdXRlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtdXRlQ29udHJvbGVyLmFkZENsYXNzKCdwbGF5ZXJfX3NvdW5kLS1uby1tdXRlJyk7XHJcbiAgICAgIHBsYXllci51bk11dGUoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnLnBsYXllcl9fcGxheWJhY2snKS5jbGljayhlID0+IHtcclxuICAgIGNvbnN0IGJhciA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICAgIGNvbnN0IGNsaWNrZWRQb3NpdGlvbiA9IGUub3JpZ2luYWxFdmVudC5sYXllclg7XHJcbiAgICBjb25zdCBuZXdCdXR0b25Qb3NpdGlvblBlcmNlbnQgPSAoY2xpY2tlZFBvc2l0aW9uIC8gYmFyLndpZHRoKCkpICogMTAwO1xyXG4gICAgY29uc3QgbmV3UGxheWJhY2tQb3NpdGlvblNlYyA9IFxyXG4gICAgICAocGxheWVyLmdldER1cmF0aW9uKCkgLyAxMDApICogbmV3QnV0dG9uUG9zaXRpb25QZXJjZW50O1xyXG5cclxuICAgICQoJy5wbGF5ZXJfX2J1dHRvbi1wbGF5YmFjaycpLmNzcyAoe1xyXG4gICAgICBsZWZ0OiBgJHtuZXdCdXR0b25Qb3NpdGlvblBlcmNlbnR9JWBcclxuICAgIH0pO1xyXG5cclxuICAgIHBsYXllci5zZWVrVG8obmV3UGxheWJhY2tQb3NpdGlvblNlYyk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5wbGF5ZXJfX3NwbGFzaCwgLnBsYXllcl9fcGxheS1pbWFnZScpLmNsaWNrKGUgPT4ge1xyXG4gICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gIH0pO1xyXG5cclxuICAkKCcucGxheWVyX192YWx1bWUnKS5jbGljayhlID0+IHtcclxuICAgIGNvbnN0IHZhbHVtZSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICAgIGNvbnN0IGNsaWNrZWRQb3NpdGlvblZhbHVtZSA9IGUub3JpZ2luYWxFdmVudC5sYXllclg7XHJcbiAgICBjb25zdCBidXR0b25Qb3NpdGlvblZhbHVtZSA9IChjbGlja2VkUG9zaXRpb25WYWx1bWUgLyB2YWx1bWUud2lkdGgoKSkgKiAxMDA7XHJcbiAgICAgIFxyXG4gICAgJCgnLnBsYXllcl9fYnV0dG9uLXZhbHVtZScpLmNzcyAoe1xyXG4gICAgICBsZWZ0OiBgJHtidXR0b25Qb3NpdGlvblZhbHVtZX0lYFxyXG4gICAgfSk7XHJcblxyXG4gICAgcGxheWVyLnNldFZvbHVtZShidXR0b25Qb3NpdGlvblZhbHVtZSk7XHJcbiAgICBjb25zb2xlLmxvZyhidXR0b25Qb3NpdGlvblZhbHVtZSlcclxuICB9KVxyXG59O1xyXG5cclxuY29uc3Qgb25QbGF5ZXJSZWFkeSA9ICgpID0+IHtcclxuICBsZXQgaW50ZXJ2YWw7XHJcbiAgY29uc3QgZHVyYXRpblNlYyA9IHBsYXllci5nZXREdXJhdGlvbigpO1xyXG5cclxuICBpZiAodHlwZW9mIGludGVydmFsICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICB9XHJcblxyXG4gIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgY29uc3QgY29tcGxldGVkU2VjID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICBjb25zdCBjb21wbGV0ZWRQZXJjZW50ID0gKGNvbXBsZXRlZFNlYyAvIGR1cmF0aW5TZWMpICogMTAwO1xyXG5cclxuICAgICQoJy5wbGF5ZXJfX2J1dHRvbi1wbGF5YmFjaycpLmNzcyh7XHJcbiAgICAgIGxlZnQ6IGAke2NvbXBsZXRlZFBlcmNlbnR9JWBcclxuICAgIH0pO1xyXG4gIH0sIDEwMDApO1xyXG59O1xyXG5cclxuY29uc3Qgb25QbGF5ZXJTdGF0ZUNoYW5nZSA9IGV2ZW50ID0+IHtcclxuICBzd2l0Y2ggKGV2ZW50LmRhdGEpIHtcclxuICAgIGNhc2UgMTpcclxuICAgICAgcGxheWVyQ29udGFpbmVyLmFkZENsYXNzKCdwbGF5ZXItLWFjdGl2ZScpO1xyXG4gICAgICBwbGF5ZXJDb250YWluZXIuYWRkQ2xhc3MoJ3BsYXllci0tcGF1c2VkJyk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIHBsYXllckNvbnRhaW5lci5yZW1vdmVDbGFzcygncGxheWVyLS1hY3RpdmUnKTtcclxuICAgICAgICBwbGF5ZXJDb250YWluZXIucmVtb3ZlQ2xhc3MoJ3BsYXllci0tcGF1c2VkJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKSB7XHJcbiAgcGxheWVyID0gbmV3IFlULlBsYXllcigneW91dHViZS1wbGF5ZXInLCB7XHJcbiAgICBoZWlnaHQ6ICczOTAnLFxyXG4gICAgd2lkdGg6ICc2NjInLFxyXG4gICAgdmlkZW9JZDogJ3NEaF9rRlAtcHBrJyxcclxuICAgIGV2ZW50czoge1xyXG4gICAgICAnb25SZWFkeSc6IG9uUGxheWVyUmVhZHksXHJcbiAgICAgICdvblN0YXRlQ2hhbmdlJzogb25QbGF5ZXJTdGF0ZUNoYW5nZVxyXG4gICAgfSxcclxuICAgIHBsYXllclZhcnM6IHtcclxuICAgICAgY29udHJvbHM6IDAsXHJcbiAgICAgIGRpc2FibGVrYjogMCxcclxuICAgICAgc2hvd2luZm86IDAsXHJcbiAgICAgIHJlbDogMCxcclxuICAgICAgYXV0b3BsYXk6IDAsXHJcbiAgICAgIG1vZGVzdGJyYW5kaW5nOiAwXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV2ZW50c2luaXQoKTtcclxuIiwiY29uc3QgZmluZEJsb2NrQnlBbGlhcyA9IGFsaWFzID0+IHtcclxuICByZXR1cm4gJCgnLnJldmlld3NfX2l0ZW0nKS5maWx0ZXIoKG5keCwgaXRlbSkgPT4ge1xyXG4gICAgcmV0dXJuICQoaXRlbSkuYXR0cignZGF0YS1saW5rZWQnKSA9PSBhbGlhcztcclxuICB9KTtcclxufTtcclxuXHJcbiQoJy5pbnRlcmFjdGl2ZS1hdmF0YXJfX2xpbmsnKS5jbGljayhlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtb3BlbicpO1xyXG4gIGNvbnN0IGl0ZW1Ub1Nob3cgPSBmaW5kQmxvY2tCeUFsaWFzKHRhcmdldCk7XHJcbiAgY29uc3QgY3VySXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5yZXZpZXdzX19zd2l0aGVyLWl0ZW0nKTtcclxuXHJcbiAgaXRlbVRvU2hvdy5hZGRDbGFzcygncmV2aWV3c19faXRlbS0tYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygncmV2aWV3c19faXRlbS0tYWN0aXZlJyk7XHJcbiAgY3VySXRlbS5hZGRDbGFzcygnaW50ZXJhY3RpdmUtYXZhdGFyLS1hY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdpbnRlcmFjdGl2ZS1hdmF0YXItLWFjdGl2ZScpO1xyXG59KTsiLCJsZXQgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fc2xpZGVzJyk7XHJcbmxldCBhcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2J1dHRvbnMnKTtcclxubGV0IGN1cnJlbnROZHggPSAwO1xyXG5cclxuY29uc3Qgc2xpZGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fYnV0dG9uJykpIHtcclxuICAgIGxldCB0YXJnZXRWYWx1ZSA9IHRhcmdldC5kYXRhc2V0LmJ1dHRvbjtcclxuXHJcbiAgICBpZiAodGFyZ2V0VmFsdWUgPT09ICdyaWdodCcpIHtcclxuICAgICAgaWYgKGN1cnJlbnROZHggPCBzbGlkZXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIGN1cnJlbnROZHggKz0gMTtcclxuICAgICAgICBkb1RyYW5zaXRpb24oY3VycmVudE5keCk7XHJcbiAgICAgIH0gZWxzZSByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0YXJnZXRWYWx1ZSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgIGlmIChjdXJyZW50TmR4ID4gMCkge1xyXG4gICAgICAgIGN1cnJlbnROZHggLT0gMTtcclxuICAgICAgICBkb1RyYW5zaXRpb24oY3VycmVudE5keCk7XHJcbiAgICAgIH0gZWxzZSByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZG9UcmFuc2l0aW9uKGluZGV4KSB7XHJcbiAgc2xpZGVzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2luZGV4ICogMTAwfSUpYDtcclxufVxyXG5cclxuYXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzbGlkZXIpO1xyXG4iXX0=
